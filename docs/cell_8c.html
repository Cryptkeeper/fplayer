<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>fplayer: src/cell.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">fplayer
   </div>
   <div id="projectbrief">C99 Falcon Sequence (fseq) file player for Light-O-Rama hardware (like xLights)</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('cell_8c.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">cell.c File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Cell table for tracking output states.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="cell_8h_source.html">cell.h</a>&quot;</code><br />
<code>#include &lt;assert.h&gt;</code><br />
<code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &quot;<a class="el" href="crmap_8h_source.html">crmap.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="errcode_8h_source.html">std2/errcode.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for cell.c:</div>
<div class="dyncontent">
<div class="center"><img src="cell_8c__incl.png" border="0" usemap="#asrc_2cell_8c" alt=""/></div>
<map name="asrc_2cell_8c" id="asrc_2cell_8c">
<area shape="rect" title="Cell table for tracking output states." alt="" coords="209,5,283,31"/>
<area shape="rect" href="cell_8h.html" title="Cell table for tracking output states." alt="" coords="5,79,58,105"/>
<area shape="poly" title=" " alt="" coords="211,34,73,80,71,75,209,29"/>
<area shape="rect" title=" " alt="" coords="81,79,150,105"/>
<area shape="poly" title=" " alt="" coords="225,34,152,74,149,69,223,29"/>
<area shape="rect" title=" " alt="" coords="173,79,234,105"/>
<area shape="poly" title=" " alt="" coords="241,33,221,67,216,64,237,30"/>
<area shape="rect" title=" " alt="" coords="257,79,320,105"/>
<area shape="poly" title=" " alt="" coords="255,30,276,64,272,67,251,33"/>
<area shape="rect" href="crmap_8h.html" title="Channel range map interface." alt="" coords="344,79,412,105"/>
<area shape="poly" title=" " alt="" coords="270,29,344,69,341,74,267,34"/>
<area shape="rect" href="errcode_8h.html" title="Error code definitions and message strings." alt="" coords="437,79,541,105"/>
<area shape="poly" title=" " alt="" coords="284,28,434,72,432,77,283,33"/>
<area shape="rect" title=" " alt="" coords="173,153,237,178"/>
<area shape="poly" title=" " alt="" coords="59,102,162,144,160,149,57,107"/>
<area shape="poly" title=" " alt="" coords="350,108,249,149,247,144,348,103"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcell__s.html">cell_s</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A single cell in the cell table, repesenting a single output channel.  <a href="structcell__s.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structctable__s.html">ctable_s</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Represents a table of cells that map raw FSEQ sequence indexes to a known unit and channel number.  <a href="structctable__s.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ae731492acc3b2e54043c2dfbf1338be6" id="r_ae731492acc3b2e54043c2dfbf1338be6"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae731492acc3b2e54043c2dfbf1338be6">MAX_MATCHES</a>&#160;&#160;&#160;16</td></tr>
<tr class="memdesc:ae731492acc3b2e54043c2dfbf1338be6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Maximum number of matching cells to find in a single group.  <br /></td></tr>
<tr class="separator:ae731492acc3b2e54043c2dfbf1338be6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ad060aa9ef0ea15420749d95f23e173" id="r_a1ad060aa9ef0ea15420749d95f23e173"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1ad060aa9ef0ea15420749d95f23e173">CHANNEL_BIT</a>(i)</td></tr>
<tr class="memdesc:a1ad060aa9ef0ea15420749d95f23e173"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a bitmask for the given channel index.  <br /></td></tr>
<tr class="separator:a1ad060aa9ef0ea15420749d95f23e173"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a253791e070bf0f98a8fb31eab6f08f5d" id="r_a253791e070bf0f98a8fb31eab6f08f5d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a253791e070bf0f98a8fb31eab6f08f5d">CT_init</a> (const struct <a class="el" href="structcr__s.html">cr_s</a> *cmap, const uint32_t size, struct <a class="el" href="structctable__s.html">ctable_s</a> **table)</td></tr>
<tr class="memdesc:a253791e070bf0f98a8fb31eab6f08f5d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes table that maps the raw fseq sequence indexes to a known LOR unit and channel number using the provided channel map. The lookup is cached into the table for faster access. The table is dynamically allocated and must be freed with <code>CT_free</code>.  <br /></td></tr>
<tr class="separator:a253791e070bf0f98a8fb31eab6f08f5d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f9889fffad6493fbfe77bc98ae9461a" id="r_a1f9889fffad6493fbfe77bc98ae9461a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1f9889fffad6493fbfe77bc98ae9461a">CT_set</a> (struct <a class="el" href="structctable__s.html">ctable_s</a> *table, const uint32_t index, const uint8_t output)</td></tr>
<tr class="memdesc:a1f9889fffad6493fbfe77bc98ae9461a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the output intensity for the cell at the given index. This marks the cell as modified, regardless if the new output intensity is the same as the current value.  <br /></td></tr>
<tr class="separator:a1f9889fffad6493fbfe77bc98ae9461a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac0fa837105dc0a8e0f6d380068ea9b11" id="r_ac0fa837105dc0a8e0f6d380068ea9b11"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac0fa837105dc0a8e0f6d380068ea9b11">CT_change</a> (struct <a class="el" href="structctable__s.html">ctable_s</a> *table, const uint32_t index, const uint8_t output)</td></tr>
<tr class="memdesc:ac0fa837105dc0a8e0f6d380068ea9b11"><td class="mdescLeft">&#160;</td><td class="mdescRight">Changes the output intensity for the cell at the given index. This only marks the cell as modified if the new output intensity is different from the current value.  <br /></td></tr>
<tr class="separator:ac0fa837105dc0a8e0f6d380068ea9b11"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1dd10c5cc02001ce37b42f6d32d71347" id="r_a1dd10c5cc02001ce37b42f6d32d71347"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1dd10c5cc02001ce37b42f6d32d71347">CT_matches</a> (const struct <a class="el" href="structcell__s.html">cell_s</a> *a, const struct <a class="el" href="structcell__s.html">cell_s</a> *b)</td></tr>
<tr class="memdesc:a1dd10c5cc02001ce37b42f6d32d71347"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if two cells match, which indicates they are addressed to the same hardware controller (unit+section), and have a matching output intensity.  <br /></td></tr>
<tr class="separator:a1dd10c5cc02001ce37b42f6d32d71347"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a12bdfffb6ccdb4a8f6e2990536c4f242" id="r_a12bdfffb6ccdb4a8f6e2990536c4f242"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a12bdfffb6ccdb4a8f6e2990536c4f242">CT_findMatches</a> (struct <a class="el" href="structctable__s.html">ctable_s</a> *table, const uint32_t start, const struct <a class="el" href="structcell__s.html">cell_s</a> *cmp, struct <a class="el" href="structcell__s.html">cell_s</a> *matches[<a class="el" href="#ae731492acc3b2e54043c2dfbf1338be6">MAX_MATCHES</a>])</td></tr>
<tr class="memdesc:a12bdfffb6ccdb4a8f6e2990536c4f242"><td class="mdescLeft">&#160;</td><td class="mdescRight">Finds all cells in the table that match the provided reference cell. The reference cell must be valid and modified. The matching cells are stored in the provided array, up to a maximum of <code>MAX_MATCHES</code>.  <br /></td></tr>
<tr class="separator:a12bdfffb6ccdb4a8f6e2990536c4f242"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a526022a61b8d3ee3772bf86e56d01b7f" id="r_a526022a61b8d3ee3772bf86e56d01b7f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a526022a61b8d3ee3772bf86e56d01b7f">CT_groupof</a> (struct <a class="el" href="structctable__s.html">ctable_s</a> *table, uint32_t at, struct <a class="el" href="structctgroup__s.html">ctgroup_s</a> *group)</td></tr>
<tr class="memdesc:a526022a61b8d3ee3772bf86e56d01b7f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a group of linked cells starting at the given index. The group is identified by the unit number, channel section, and output intensity value. Any cells that have not been modified, or do not match, are excluded from the grouping. Assuming the cell at <code>at</code> is valid and modified, <code>group</code> should always contain at least one cell.  <br /></td></tr>
<tr class="separator:a526022a61b8d3ee3772bf86e56d01b7f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a65ff64f02741fc9b0e24bf2749cdfffd" id="r_a65ff64f02741fc9b0e24bf2749cdfffd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a65ff64f02741fc9b0e24bf2749cdfffd">CT_free</a> (struct <a class="el" href="structctable__s.html">ctable_s</a> *table)</td></tr>
<tr class="memdesc:a65ff64f02741fc9b0e24bf2749cdfffd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Frees the table and any held resources.  <br /></td></tr>
<tr class="separator:a65ff64f02741fc9b0e24bf2749cdfffd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Cell table for tracking output states. </p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a1ad060aa9ef0ea15420749d95f23e173" name="a1ad060aa9ef0ea15420749d95f23e173"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1ad060aa9ef0ea15420749d95f23e173">&#9670;&#160;</a></span>CHANNEL_BIT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CHANNEL_BIT</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>i</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">(1 &lt;&lt; (i))</div>
</div><!-- fragment -->
<p>Returns a bitmask for the given channel index. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">i</td><td>channel index </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>bitmask for the channel index </dd></dl>

</div>
</div>
<a id="ae731492acc3b2e54043c2dfbf1338be6" name="ae731492acc3b2e54043c2dfbf1338be6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae731492acc3b2e54043c2dfbf1338be6">&#9670;&#160;</a></span>MAX_MATCHES</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_MATCHES&#160;&#160;&#160;16</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Maximum number of matching cells to find in a single group. </p>
<dl class="section note"><dt>Note</dt><dd>This is derived from the maximum value supported by the protocol. It is not a software limitation. </dd></dl>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ac0fa837105dc0a8e0f6d380068ea9b11" name="ac0fa837105dc0a8e0f6d380068ea9b11"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac0fa837105dc0a8e0f6d380068ea9b11">&#9670;&#160;</a></span>CT_change()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CT_change </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structctable__s.html">ctable_s</a> *</td>          <td class="paramname"><span class="paramname"><em>table</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t</td>          <td class="paramname"><span class="paramname"><em>index</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>output</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Changes the output intensity for the cell at the given index. This only marks the cell as modified if the new output intensity is different from the current value. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">table</td><td>table to change the output on </td></tr>
    <tr><td class="paramname">index</td><td>index of the cell to change </td></tr>
    <tr><td class="paramname">output</td><td>intensity to change to </td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cell_8c_ac0fa837105dc0a8e0f6d380068ea9b11_icgraph.png" border="0" usemap="#acell_8c_ac0fa837105dc0a8e0f6d380068ea9b11_icgraph" alt=""/></div>
<map name="acell_8c_ac0fa837105dc0a8e0f6d380068ea9b11_icgraph" id="acell_8c_ac0fa837105dc0a8e0f6d380068ea9b11_icgraph">
<area shape="rect" title="Changes the output intensity for the cell at the given index. This only marks the cell as modified if..." alt="" coords="560,5,648,31"/>
<area shape="rect" href="player_8c.html#a0be44cb011fa97a198c60458b0761809" title="Increments the current frame index and writes the minified frame data to the serial output...." alt="" coords="381,5,512,31"/>
<area shape="poly" title=" " alt="" coords="544,21,512,21,512,16,544,16"/>
<area shape="rect" href="player_8c.html#a30eb7f640562f5e082f537431fabfae0" title="Main loop of the player that drives the playback of the sequence. This function will block until the ..." alt="" coords="244,5,333,31"/>
<area shape="poly" title=" " alt="" coords="365,21,334,21,334,16,365,16"/>
<area shape="rect" href="player_8c.html#aaf3b0aad85ffca607bbf0daa9d634dc1" title="Initializes and starts playback of the given playback configuration. Execution will block until the s..." alt="" coords="103,5,196,31"/>
<area shape="poly" title=" " alt="" coords="228,21,196,21,196,16,228,16"/>
<area shape="rect" href="main_8c.html#ad5a52bc0401ed1bc06c779de5371d560" title=" " alt="" coords="5,5,55,31"/>
<area shape="poly" title=" " alt="" coords="87,21,55,21,55,16,87,16"/>
</map>
</div>

</div>
</div>
<a id="a12bdfffb6ccdb4a8f6e2990536c4f242" name="a12bdfffb6ccdb4a8f6e2990536c4f242"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a12bdfffb6ccdb4a8f6e2990536c4f242">&#9670;&#160;</a></span>CT_findMatches()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int CT_findMatches </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structctable__s.html">ctable_s</a> *</td>          <td class="paramname"><span class="paramname"><em>table</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint32_t</td>          <td class="paramname"><span class="paramname"><em>start</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structcell__s.html">cell_s</a> *</td>          <td class="paramname"><span class="paramname"><em>cmp</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcell__s.html">cell_s</a> *</td>          <td class="paramname"><span class="paramname"><em>matches</em></span>[MAX_MATCHES]&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Finds all cells in the table that match the provided reference cell. The reference cell must be valid and modified. The matching cells are stored in the provided array, up to a maximum of <code>MAX_MATCHES</code>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">table</td><td>table to search </td></tr>
    <tr><td class="paramname">start</td><td>index to start searching from </td></tr>
    <tr><td class="paramname">cmp</td><td>reference cell to match against </td></tr>
    <tr><td class="paramname">matches</td><td>array to store matching cells </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the number of matching cells found </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cell_8c_a12bdfffb6ccdb4a8f6e2990536c4f242_cgraph.png" border="0" usemap="#acell_8c_a12bdfffb6ccdb4a8f6e2990536c4f242_cgraph" alt=""/></div>
<map name="acell_8c_a12bdfffb6ccdb4a8f6e2990536c4f242_cgraph" id="acell_8c_a12bdfffb6ccdb4a8f6e2990536c4f242_cgraph">
<area shape="rect" title="Finds all cells in the table that match the provided reference cell. The reference cell must be valid..." alt="" coords="5,5,123,31"/>
<area shape="rect" href="cell_8c.html#a1dd10c5cc02001ce37b42f6d32d71347" title="Checks if two cells match, which indicates they are addressed to the same hardware controller (unit+s..." alt="" coords="171,5,267,31"/>
<area shape="poly" title=" " alt="" coords="123,16,155,16,155,21,123,21"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cell_8c_a12bdfffb6ccdb4a8f6e2990536c4f242_icgraph.png" border="0" usemap="#acell_8c_a12bdfffb6ccdb4a8f6e2990536c4f242_icgraph" alt=""/></div>
<map name="acell_8c_a12bdfffb6ccdb4a8f6e2990536c4f242_icgraph" id="acell_8c_a12bdfffb6ccdb4a8f6e2990536c4f242_icgraph">
<area shape="rect" title="Finds all cells in the table that match the provided reference cell. The reference cell must be valid..." alt="" coords="697,5,814,31"/>
<area shape="rect" href="cell_8c.html#a526022a61b8d3ee3772bf86e56d01b7f" title="Returns a group of linked cells starting at the given index. The group is identified by the unit numb..." alt="" coords="560,5,649,31"/>
<area shape="poly" title=" " alt="" coords="681,21,649,21,649,16,681,16"/>
<area shape="rect" href="player_8c.html#a0be44cb011fa97a198c60458b0761809" title="Increments the current frame index and writes the minified frame data to the serial output...." alt="" coords="381,5,512,31"/>
<area shape="poly" title=" " alt="" coords="544,21,512,21,512,16,544,16"/>
<area shape="rect" href="player_8c.html#a30eb7f640562f5e082f537431fabfae0" title="Main loop of the player that drives the playback of the sequence. This function will block until the ..." alt="" coords="244,5,333,31"/>
<area shape="poly" title=" " alt="" coords="365,21,334,21,334,16,365,16"/>
<area shape="rect" href="player_8c.html#aaf3b0aad85ffca607bbf0daa9d634dc1" title="Initializes and starts playback of the given playback configuration. Execution will block until the s..." alt="" coords="103,5,196,31"/>
<area shape="poly" title=" " alt="" coords="228,21,196,21,196,16,228,16"/>
<area shape="rect" href="main_8c.html#ad5a52bc0401ed1bc06c779de5371d560" title=" " alt="" coords="5,5,55,31"/>
<area shape="poly" title=" " alt="" coords="87,21,55,21,55,16,87,16"/>
</map>
</div>

</div>
</div>
<a id="a65ff64f02741fc9b0e24bf2749cdfffd" name="a65ff64f02741fc9b0e24bf2749cdfffd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a65ff64f02741fc9b0e24bf2749cdfffd">&#9670;&#160;</a></span>CT_free()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CT_free </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structctable__s.html">ctable_s</a> *</td>          <td class="paramname"><span class="paramname"><em>table</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Frees the table and any held resources. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">table</td><td>table to free </td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cell_8c_a65ff64f02741fc9b0e24bf2749cdfffd_icgraph.png" border="0" usemap="#acell_8c_a65ff64f02741fc9b0e24bf2749cdfffd_icgraph" alt=""/></div>
<map name="acell_8c_a65ff64f02741fc9b0e24bf2749cdfffd_icgraph" id="acell_8c_a65ff64f02741fc9b0e24bf2749cdfffd_icgraph">
<area shape="rect" title="Frees the table and any held resources." alt="" coords="510,5,578,31"/>
<area shape="rect" href="player_8c.html#a4ec5687289d18651562957a247d20385" title="Frees dynamic allocated structures referenced by the player runtime data. rtd itself is not freed by ..." alt="" coords="374,5,462,31"/>
<area shape="poly" title=" " alt="" coords="494,21,462,21,462,16,494,16"/>
<area shape="rect" href="player_8c.html#aaf3b0aad85ffca607bbf0daa9d634dc1" title="Initializes and starts playback of the given playback configuration. Execution will block until the s..." alt="" coords="103,5,196,31"/>
<area shape="poly" title=" " alt="" coords="359,21,196,21,196,16,359,16"/>
<area shape="rect" href="player_8c.html#a3762a659d4e6c34bdf73d29dd0b8dc75" title="Populates the player runtime data with dynamically allocated structures before initializing each subs..." alt="" coords="244,31,326,56"/>
<area shape="poly" title=" " alt="" coords="359,32,327,38,326,33,358,27"/>
<area shape="rect" href="main_8c.html#ad5a52bc0401ed1bc06c779de5371d560" title=" " alt="" coords="5,5,55,31"/>
<area shape="poly" title=" " alt="" coords="87,21,55,21,55,16,87,16"/>
<area shape="poly" title=" " alt="" coords="228,36,196,29,197,24,229,30"/>
</map>
</div>

</div>
</div>
<a id="a526022a61b8d3ee3772bf86e56d01b7f" name="a526022a61b8d3ee3772bf86e56d01b7f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a526022a61b8d3ee3772bf86e56d01b7f">&#9670;&#160;</a></span>CT_groupof()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int CT_groupof </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structctable__s.html">ctable_s</a> *</td>          <td class="paramname"><span class="paramname"><em>table</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t</td>          <td class="paramname"><span class="paramname"><em>at</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structctgroup__s.html">ctgroup_s</a> *</td>          <td class="paramname"><span class="paramname"><em>group</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns a group of linked cells starting at the given index. The group is identified by the unit number, channel section, and output intensity value. Any cells that have not been modified, or do not match, are excluded from the grouping. Assuming the cell at <code>at</code> is valid and modified, <code>group</code> should always contain at least one cell. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">table</td><td>table to search </td></tr>
    <tr><td class="paramname">at</td><td>index to start the group search </td></tr>
    <tr><td class="paramname">group</td><td>pointer to store the group </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 if a group was found, 0 if no group was found </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cell_8c_a526022a61b8d3ee3772bf86e56d01b7f_cgraph.png" border="0" usemap="#acell_8c_a526022a61b8d3ee3772bf86e56d01b7f_cgraph" alt=""/></div>
<map name="acell_8c_a526022a61b8d3ee3772bf86e56d01b7f_cgraph" id="acell_8c_a526022a61b8d3ee3772bf86e56d01b7f_cgraph">
<area shape="rect" title="Returns a group of linked cells starting at the given index. The group is identified by the unit numb..." alt="" coords="5,5,95,31"/>
<area shape="rect" href="cell_8c.html#a12bdfffb6ccdb4a8f6e2990536c4f242" title="Finds all cells in the table that match the provided reference cell. The reference cell must be valid..." alt="" coords="143,5,260,31"/>
<area shape="poly" title=" " alt="" coords="95,16,127,16,127,21,95,21"/>
<area shape="rect" href="cell_8c.html#a1dd10c5cc02001ce37b42f6d32d71347" title="Checks if two cells match, which indicates they are addressed to the same hardware controller (unit+s..." alt="" coords="308,5,404,31"/>
<area shape="poly" title=" " alt="" coords="261,16,292,16,292,21,261,21"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cell_8c_a526022a61b8d3ee3772bf86e56d01b7f_icgraph.png" border="0" usemap="#acell_8c_a526022a61b8d3ee3772bf86e56d01b7f_icgraph" alt=""/></div>
<map name="acell_8c_a526022a61b8d3ee3772bf86e56d01b7f_icgraph" id="acell_8c_a526022a61b8d3ee3772bf86e56d01b7f_icgraph">
<area shape="rect" title="Returns a group of linked cells starting at the given index. The group is identified by the unit numb..." alt="" coords="560,5,649,31"/>
<area shape="rect" href="player_8c.html#a0be44cb011fa97a198c60458b0761809" title="Increments the current frame index and writes the minified frame data to the serial output...." alt="" coords="381,5,512,31"/>
<area shape="poly" title=" " alt="" coords="544,21,512,21,512,16,544,16"/>
<area shape="rect" href="player_8c.html#a30eb7f640562f5e082f537431fabfae0" title="Main loop of the player that drives the playback of the sequence. This function will block until the ..." alt="" coords="244,5,333,31"/>
<area shape="poly" title=" " alt="" coords="365,21,334,21,334,16,365,16"/>
<area shape="rect" href="player_8c.html#aaf3b0aad85ffca607bbf0daa9d634dc1" title="Initializes and starts playback of the given playback configuration. Execution will block until the s..." alt="" coords="103,5,196,31"/>
<area shape="poly" title=" " alt="" coords="228,21,196,21,196,16,228,16"/>
<area shape="rect" href="main_8c.html#ad5a52bc0401ed1bc06c779de5371d560" title=" " alt="" coords="5,5,55,31"/>
<area shape="poly" title=" " alt="" coords="87,21,55,21,55,16,87,16"/>
</map>
</div>

</div>
</div>
<a id="a253791e070bf0f98a8fb31eab6f08f5d" name="a253791e070bf0f98a8fb31eab6f08f5d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a253791e070bf0f98a8fb31eab6f08f5d">&#9670;&#160;</a></span>CT_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int CT_init </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structcr__s.html">cr_s</a> *</td>          <td class="paramname"><span class="paramname"><em>cmap</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t</td>          <td class="paramname"><span class="paramname"><em>size</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structctable__s.html">ctable_s</a> **</td>          <td class="paramname"><span class="paramname"><em>table</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes table that maps the raw fseq sequence indexes to a known LOR unit and channel number using the provided channel map. The lookup is cached into the table for faster access. The table is dynamically allocated and must be freed with <code>CT_free</code>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cmap</td><td>channel map to use for lookup </td></tr>
    <tr><td class="paramname">size</td><td>number of indexes to map </td></tr>
    <tr><td class="paramname">table</td><td>pointer to store the table </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, or a negative error code on failure </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cell_8c_a253791e070bf0f98a8fb31eab6f08f5d_cgraph.png" border="0" usemap="#acell_8c_a253791e070bf0f98a8fb31eab6f08f5d_cgraph" alt=""/></div>
<map name="acell_8c_a253791e070bf0f98a8fb31eab6f08f5d_cgraph" id="acell_8c_a253791e070bf0f98a8fb31eab6f08f5d_cgraph">
<area shape="rect" title="Initializes table that maps the raw fseq sequence indexes to a known LOR unit and channel number usin..." alt="" coords="5,5,69,31"/>
<area shape="rect" href="crmap_8c.html#a6f57342dcb3c2ed3aefb0ad1f1361b74" title="Remaps the given sequence channel index to a unit and circuit number using the channel range mapping...." alt="" coords="117,5,218,31"/>
<area shape="poly" title=" " alt="" coords="69,16,101,16,101,21,69,21"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cell_8c_a253791e070bf0f98a8fb31eab6f08f5d_icgraph.png" border="0" usemap="#acell_8c_a253791e070bf0f98a8fb31eab6f08f5d_icgraph" alt=""/></div>
<map name="acell_8c_a253791e070bf0f98a8fb31eab6f08f5d_icgraph" id="acell_8c_a253791e070bf0f98a8fb31eab6f08f5d_icgraph">
<area shape="rect" title="Initializes table that maps the raw fseq sequence indexes to a known LOR unit and channel number usin..." alt="" coords="374,5,438,31"/>
<area shape="rect" href="player_8c.html#a3762a659d4e6c34bdf73d29dd0b8dc75" title="Populates the player runtime data with dynamically allocated structures before initializing each subs..." alt="" coords="244,5,326,31"/>
<area shape="poly" title=" " alt="" coords="359,21,327,21,327,16,359,16"/>
<area shape="rect" href="player_8c.html#aaf3b0aad85ffca607bbf0daa9d634dc1" title="Initializes and starts playback of the given playback configuration. Execution will block until the s..." alt="" coords="103,5,196,31"/>
<area shape="poly" title=" " alt="" coords="228,21,196,21,196,16,228,16"/>
<area shape="rect" href="main_8c.html#ad5a52bc0401ed1bc06c779de5371d560" title=" " alt="" coords="5,5,55,31"/>
<area shape="poly" title=" " alt="" coords="87,21,55,21,55,16,87,16"/>
</map>
</div>

</div>
</div>
<a id="a1dd10c5cc02001ce37b42f6d32d71347" name="a1dd10c5cc02001ce37b42f6d32d71347"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1dd10c5cc02001ce37b42f6d32d71347">&#9670;&#160;</a></span>CT_matches()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int CT_matches </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structcell__s.html">cell_s</a> *</td>          <td class="paramname"><span class="paramname"><em>a</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structcell__s.html">cell_s</a> *</td>          <td class="paramname"><span class="paramname"><em>b</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Checks if two cells match, which indicates they are addressed to the same hardware controller (unit+section), and have a matching output intensity. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">a</td><td>first cell to compare </td></tr>
    <tr><td class="paramname">b</td><td>second cell to compare </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the cells match, false otherwise </dd></dl>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="cell_8c_a1dd10c5cc02001ce37b42f6d32d71347_icgraph.png" border="0" usemap="#acell_8c_a1dd10c5cc02001ce37b42f6d32d71347_icgraph" alt=""/></div>
<map name="acell_8c_a1dd10c5cc02001ce37b42f6d32d71347_icgraph" id="acell_8c_a1dd10c5cc02001ce37b42f6d32d71347_icgraph">
<area shape="rect" title="Checks if two cells match, which indicates they are addressed to the same hardware controller (unit+s..." alt="" coords="862,5,959,31"/>
<area shape="rect" href="cell_8c.html#a12bdfffb6ccdb4a8f6e2990536c4f242" title="Finds all cells in the table that match the provided reference cell. The reference cell must be valid..." alt="" coords="697,5,814,31"/>
<area shape="poly" title=" " alt="" coords="847,21,815,21,815,16,847,16"/>
<area shape="rect" href="cell_8c.html#a526022a61b8d3ee3772bf86e56d01b7f" title="Returns a group of linked cells starting at the given index. The group is identified by the unit numb..." alt="" coords="560,5,649,31"/>
<area shape="poly" title=" " alt="" coords="681,21,649,21,649,16,681,16"/>
<area shape="rect" href="player_8c.html#a0be44cb011fa97a198c60458b0761809" title="Increments the current frame index and writes the minified frame data to the serial output...." alt="" coords="381,5,512,31"/>
<area shape="poly" title=" " alt="" coords="544,21,512,21,512,16,544,16"/>
<area shape="rect" href="player_8c.html#a30eb7f640562f5e082f537431fabfae0" title="Main loop of the player that drives the playback of the sequence. This function will block until the ..." alt="" coords="244,5,333,31"/>
<area shape="poly" title=" " alt="" coords="365,21,334,21,334,16,365,16"/>
<area shape="rect" href="player_8c.html#aaf3b0aad85ffca607bbf0daa9d634dc1" title="Initializes and starts playback of the given playback configuration. Execution will block until the s..." alt="" coords="103,5,196,31"/>
<area shape="poly" title=" " alt="" coords="228,21,196,21,196,16,228,16"/>
<area shape="rect" href="main_8c.html#ad5a52bc0401ed1bc06c779de5371d560" title=" " alt="" coords="5,5,55,31"/>
<area shape="poly" title=" " alt="" coords="87,21,55,21,55,16,87,16"/>
</map>
</div>

</div>
</div>
<a id="a1f9889fffad6493fbfe77bc98ae9461a" name="a1f9889fffad6493fbfe77bc98ae9461a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1f9889fffad6493fbfe77bc98ae9461a">&#9670;&#160;</a></span>CT_set()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CT_set </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structctable__s.html">ctable_s</a> *</td>          <td class="paramname"><span class="paramname"><em>table</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t</td>          <td class="paramname"><span class="paramname"><em>index</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>output</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the output intensity for the cell at the given index. This marks the cell as modified, regardless if the new output intensity is the same as the current value. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">table</td><td>table to set the output on </td></tr>
    <tr><td class="paramname">index</td><td>index of the cell to set </td></tr>
    <tr><td class="paramname">output</td><td>intensity to set </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="cell_8c.html">cell.c</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0 </li>
  </ul>
</div>
</body>
</html>
