<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>fplayer: src/pump.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">fplayer
   </div>
   <div id="projectbrief">C99 Falcon Sequence (fseq) file player for Light-O-Rama hardware (like xLights)</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('pump_8c.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">pump.c File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Frame data loading implementation.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="pump_8h_source.html">pump.h</a>&quot;</code><br />
<code>#include &lt;assert.h&gt;</code><br />
<code>#include &lt;pthread.h&gt;</code><br />
<code>#include &lt;stdbool.h&gt;</code><br />
<code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;<a class="el" href="string_8h_source.html">string.h</a>&gt;</code><br />
<code>#include &quot;tinyfseq.h&quot;</code><br />
<code>#include &quot;<a class="el" href="comblock_8h_source.html">fseq/comblock.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="fd_8h_source.html">fseq/fd.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="errcode_8h_source.html">std2/errcode.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="fc_8h_source.html">std2/fc.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for pump.c:</div>
<div class="dyncontent">
<div class="center"><img src="pump_8c__incl.png" border="0" usemap="#asrc_2pump_8c" alt=""/></div>
<map name="asrc_2pump_8c" id="asrc_2pump_8c">
<area shape="rect" title="Frame data loading implementation." alt="" coords="501,5,587,31"/>
<area shape="rect" href="pump_8h.html" title="Frame data loading interface." alt="" coords="5,79,70,105"/>
<area shape="poly" title=" " alt="" coords="501,26,323,45,207,61,85,81,85,76,206,56,323,40,500,21"/>
<area shape="rect" title=" " alt="" coords="94,79,162,105"/>
<area shape="poly" title=" " alt="" coords="501,28,361,49,178,81,177,76,361,43,500,23"/>
<area shape="rect" title=" " alt="" coords="186,79,262,105"/>
<area shape="poly" title=" " alt="" coords="501,32,278,81,277,76,500,26"/>
<area shape="rect" title=" " alt="" coords="286,79,360,105"/>
<area shape="poly" title=" " alt="" coords="507,34,376,76,374,71,506,29"/>
<area shape="rect" title=" " alt="" coords="385,79,445,105"/>
<area shape="poly" title=" " alt="" coords="524,34,452,73,449,69,521,29"/>
<area shape="rect" title=" " alt="" coords="468,79,532,105"/>
<area shape="poly" title=" " alt="" coords="539,33,518,67,513,64,535,30"/>
<area shape="rect" href="string_8h.html" title="String parsing functions." alt="" coords="556,79,620,105"/>
<area shape="poly" title=" " alt="" coords="554,30,575,64,570,67,549,33"/>
<area shape="rect" title=" " alt="" coords="645,79,723,105"/>
<area shape="poly" title=" " alt="" coords="569,29,648,69,646,74,567,34"/>
<area shape="rect" href="comblock_8h.html" title="FSEQ compression block loading API." alt="" coords="747,79,864,105"/>
<area shape="poly" title=" " alt="" coords="589,29,747,72,746,77,587,34"/>
<area shape="rect" href="fd_8h.html" title="Frame data block list utility functions." alt="" coords="888,79,960,105"/>
<area shape="poly" title=" " alt="" coords="588,24,873,76,872,81,587,29"/>
<area shape="rect" href="errcode_8h.html" title="Error code definitions and message strings." alt="" coords="984,79,1088,105"/>
<area shape="poly" title=" " alt="" coords="588,22,969,76,968,81,588,28"/>
<area shape="rect" href="fc_8h.html" title="File controller interface for reading/writing files." alt="" coords="1112,79,1184,105"/>
<area shape="poly" title=" " alt="" coords="588,20,803,38,947,54,1097,76,1096,81,947,59,802,43,587,25"/>
<area shape="rect" title=" " alt="" coords="892,153,956,178"/>
<area shape="poly" title=" " alt="" coords="71,100,82,102,197,119,314,132,543,150,740,158,876,161,876,167,739,164,542,155,314,137,196,124,81,107,70,105"/>
<area shape="poly" title=" " alt="" coords="927,105,927,137,922,137,922,105"/>
<area shape="poly" title=" " alt="" coords="1112,107,972,152,971,147,1111,102"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structframe__pump__s.html">frame_pump_s</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Frame pump state controller for loading/tracking frame data.  <a href="structframe__pump__s.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ace12e3aec7ac03743a8cf3d73bb37969" id="r_ace12e3aec7ac03743a8cf3d73bb37969"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ace12e3aec7ac03743a8cf3d73bb37969">FP_init</a> (struct <a class="el" href="struct_f_c.html">FC</a> *fc, const struct tf_header_t *seq, struct <a class="el" href="structframe__pump__s.html">frame_pump_s</a> **pump)</td></tr>
<tr class="memdesc:ace12e3aec7ac03743a8cf3d73bb37969"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes a frame pump with the provided file controller. The pump will read frames from the file controller and store them in an internal buffer for playback. The pump will also preload the next frame set asynchronously in a separate thread to ensure smooth playback. The caller is responsible for freeing the pump with <code>FP_free</code>.  <br /></td></tr>
<tr class="separator:ace12e3aec7ac03743a8cf3d73bb37969"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3e1163b243cb1bf5d8175efcff04362" id="r_ae3e1163b243cb1bf5d8175efcff04362"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae3e1163b243cb1bf5d8175efcff04362">FP_readSeq</a> (struct <a class="el" href="struct_f_c.html">FC</a> *fc, const struct tf_header_t *seq, const uint32_t frame, struct <a class="el" href="structfd__list__s.html">fd_list_s</a> *list)</td></tr>
<tr class="memdesc:ae3e1163b243cb1bf5d8175efcff04362"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads the next frame set from the file controller and stores it in the provided frame data node pointer. This function is used when the sequence is not compressed and read sequentially from the file controller.  <br /></td></tr>
<tr class="separator:ae3e1163b243cb1bf5d8175efcff04362"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0264c0768947899db76d3ab1ce394f95" id="r_a0264c0768947899db76d3ab1ce394f95"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0264c0768947899db76d3ab1ce394f95">FP_read</a> (struct <a class="el" href="structframe__pump__s.html">frame_pump_s</a> *pump, struct <a class="el" href="structfd__list__s.html">fd_list_s</a> *list)</td></tr>
<tr class="memdesc:a0264c0768947899db76d3ab1ce394f95"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads the next frame set from the file controller and stores it in the provided frame data node pointer. The pump should have its <code>pos</code> union updated with read request position information before calling this function.  <br /></td></tr>
<tr class="separator:a0264c0768947899db76d3ab1ce394f95"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41c6c4a221b68550e0b0ad6fbf0fd1ce" id="r_a41c6c4a221b68550e0b0ad6fbf0fd1ce"><td class="memItemLeft" align="right" valign="top">static void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a41c6c4a221b68550e0b0ad6fbf0fd1ce">FP_thread</a> (void *pargs)</td></tr>
<tr class="separator:a41c6c4a221b68550e0b0ad6fbf0fd1ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52ae12b729974435a410e9753a2c6bb6" id="r_a52ae12b729974435a410e9753a2c6bb6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a52ae12b729974435a410e9753a2c6bb6">FP_checkPreload</a> (struct <a class="el" href="structframe__pump__s.html">frame_pump_s</a> *pump, const uint32_t frame)</td></tr>
<tr class="memdesc:a52ae12b729974435a410e9753a2c6bb6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if the pump's internal buffer is low, and if so, preloads the next frame set from the file controller asynchronously in a separate thread. The preloaded data is stored within the pump, allowing it to be read once the pre-existing primary buffer is empty.  <br /></td></tr>
<tr class="separator:a52ae12b729974435a410e9753a2c6bb6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b6a9a5b1d91947a2eb549b4460f7366" id="r_a2b6a9a5b1d91947a2eb549b4460f7366"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2b6a9a5b1d91947a2eb549b4460f7366">FP_nextFrame</a> (struct <a class="el" href="structframe__pump__s.html">frame_pump_s</a> *pump, uint8_t **fd)</td></tr>
<tr class="memdesc:a2b6a9a5b1d91947a2eb549b4460f7366"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copies the next frame of data from the pump to the provided frame data buffer. If the pump's internal buffer is empty, the pump will attempt to read more frames from the file controller provided during initialization.  <br /></td></tr>
<tr class="separator:a2b6a9a5b1d91947a2eb549b4460f7366"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48fea78925df64034f443f952fddf680" id="r_a48fea78925df64034f443f952fddf680"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a48fea78925df64034f443f952fddf680">FP_framesRemaining</a> (struct <a class="el" href="structframe__pump__s.html">frame_pump_s</a> *pump)</td></tr>
<tr class="memdesc:a48fea78925df64034f443f952fddf680"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the number of frames remaining in the pump's internal buffer.  <br /></td></tr>
<tr class="separator:a48fea78925df64034f443f952fddf680"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c99ef7d16fc21de2c707fa78e86ab81" id="r_a7c99ef7d16fc21de2c707fa78e86ab81"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7c99ef7d16fc21de2c707fa78e86ab81">FP_free</a> (struct <a class="el" href="structframe__pump__s.html">frame_pump_s</a> *pump)</td></tr>
<tr class="memdesc:a7c99ef7d16fc21de2c707fa78e86ab81"><td class="mdescLeft">&#160;</td><td class="mdescRight">Frees the resources associated with the provided frame pump.  <br /></td></tr>
<tr class="separator:a7c99ef7d16fc21de2c707fa78e86ab81"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Frame data loading implementation. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a52ae12b729974435a410e9753a2c6bb6" name="a52ae12b729974435a410e9753a2c6bb6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a52ae12b729974435a410e9753a2c6bb6">&#9670;&#160;</a></span>FP_checkPreload()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int FP_checkPreload </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structframe__pump__s.html">frame_pump_s</a> *</td>          <td class="paramname"><span class="paramname"><em>pump</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t</td>          <td class="paramname"><span class="paramname"><em>frame</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks if the pump's internal buffer is low, and if so, preloads the next frame set from the file controller asynchronously in a separate thread. The preloaded data is stored within the pump, allowing it to be read once the pre-existing primary buffer is empty. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pump</td><td>pump to check </td></tr>
    <tr><td class="paramname">frame</td><td>current frame index for aligning read position </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, a negative error code on failure </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="pump_8c_a52ae12b729974435a410e9753a2c6bb6_cgraph.png" border="0" usemap="#apump_8c_a52ae12b729974435a410e9753a2c6bb6_cgraph" alt=""/></div>
<map name="apump_8c_a52ae12b729974435a410e9753a2c6bb6_cgraph" id="apump_8c_a52ae12b729974435a410e9753a2c6bb6_cgraph">
<area shape="rect" title="Checks if the pump&#39;s internal buffer is low, and if so, preloads the next frame set from the file con..." alt="" coords="5,183,130,208"/>
<area shape="rect" href="pump_8c.html#a41c6c4a221b68550e0b0ad6fbf0fd1ce" title=" " alt="" coords="178,183,259,208"/>
<area shape="poly" title=" " alt="" coords="130,193,162,193,162,198,130,198"/>
<area shape="rect" href="fd_8c.html#a04dc0c764a0555ae69a945fe0531167d" title="Frees all entry nodes in the list, but does not free the list itself." alt="" coords="852,156,920,182"/>
<area shape="poly" title=" " alt="" coords="259,191,836,168,837,173,259,197"/>
<area shape="rect" href="pump_8c.html#a0264c0768947899db76d3ab1ce394f95" title="Reads the next frame set from the file controller and stores it in the provided frame data node point..." alt="" coords="315,132,385,158"/>
<area shape="poly" title=" " alt="" coords="253,180,300,161,302,166,255,185"/>
<area shape="rect" href="errcode_8c.html#aa8f97434516ad3fd89df7d8d239d4927" title="Returns the error message string for the given error code." alt="" coords="307,233,393,259"/>
<area shape="poly" title=" " alt="" coords="255,206,302,225,300,230,253,211"/>
<area shape="rect" href="comblock_8c.html#aa718f4faf13580abe13ffdba68e8d81c" title="Reads the given compression block (by index) from the given file controller and decompresses it (if s..." alt="" coords="441,81,556,107"/>
<area shape="poly" title=" " alt="" coords="385,130,443,110,445,115,387,135"/>
<area shape="rect" href="pump_8c.html#ae3e1163b243cb1bf5d8175efcff04362" title="Reads the next frame set from the file controller and stores it in the provided frame data node point..." alt="" coords="627,132,720,158"/>
<area shape="poly" title=" " alt="" coords="386,142,611,142,611,148,386,148"/>
<area shape="rect" href="comblock_8c.html#abaf2a087d477ec548fe50d7815089279" title="Reads the given compression block (by index) from the given file controller and decompresses it using..." alt="" coords="604,81,744,107"/>
<area shape="poly" title=" " alt="" coords="556,92,588,92,588,97,556,97"/>
<area shape="poly" title=" " alt="" coords="715,105,745,117,769,130,793,142,838,156,836,161,791,147,767,135,743,122,713,110"/>
<area shape="rect" href="comblock_8c.html#a184922fb41719bd272b55c1402a9e7de" title="Calculates the absolute address of the given compression block index and its encoded size." alt="" coords="792,5,980,31"/>
<area shape="poly" title=" " alt="" coords="709,78,791,48,830,34,831,39,793,53,711,83"/>
<area shape="rect" href="fc_8c.html#a567dd57b805c1d46e224bd218e9c4293" title="Reads the given number of bytes from the file controller starting at the given offset." alt="" coords="1028,31,1100,56"/>
<area shape="poly" title=" " alt="" coords="744,82,1013,47,1014,53,745,88"/>
<area shape="rect" href="fd_8c.html#a0adfd6501d174720db95b64d706ac476" title="Appends a new frame data block to the end of the list. The frame data provided is not copied,..." alt="" coords="842,107,930,132"/>
<area shape="poly" title=" " alt="" coords="745,100,827,110,826,115,744,105"/>
<area shape="poly" title=" " alt="" coords="981,29,1013,34,1012,39,980,34"/>
<area shape="poly" title=" " alt="" coords="721,147,837,161,836,166,720,153"/>
<area shape="poly" title=" " alt="" coords="720,137,826,124,827,129,721,142"/>
<area shape="rect" href="fc_8c.html#a479c14c40649932a98343269452e6111" title="Reads up to the given number of bytes from the file controller starting at the given offset,..." alt="" coords="845,205,927,231"/>
<area shape="poly" title=" " alt="" coords="705,156,793,192,831,203,829,208,791,197,703,161"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="pump_8c_a52ae12b729974435a410e9753a2c6bb6_icgraph.png" border="0" usemap="#apump_8c_a52ae12b729974435a410e9753a2c6bb6_icgraph" alt=""/></div>
<map name="apump_8c_a52ae12b729974435a410e9753a2c6bb6_icgraph" id="apump_8c_a52ae12b729974435a410e9753a2c6bb6_icgraph">
<area shape="rect" title="Checks if the pump&#39;s internal buffer is low, and if so, preloads the next frame set from the file con..." alt="" coords="560,5,684,31"/>
<area shape="rect" href="player_8c.html#a0be44cb011fa97a198c60458b0761809" title="Increments the current frame index and writes the minified frame data to the serial output...." alt="" coords="381,5,512,31"/>
<area shape="poly" title=" " alt="" coords="544,21,512,21,512,16,544,16"/>
<area shape="rect" href="player_8c.html#a30eb7f640562f5e082f537431fabfae0" title="Main loop of the player that drives the playback of the sequence. This function will block until the ..." alt="" coords="244,5,333,31"/>
<area shape="poly" title=" " alt="" coords="365,21,334,21,334,16,365,16"/>
<area shape="rect" href="player_8c.html#aaf3b0aad85ffca607bbf0daa9d634dc1" title="Initializes and starts playback of the given playback configuration. Execution will block until the s..." alt="" coords="103,5,196,31"/>
<area shape="poly" title=" " alt="" coords="228,21,196,21,196,16,228,16"/>
<area shape="rect" href="main_8c.html#ad5a52bc0401ed1bc06c779de5371d560" title=" " alt="" coords="5,5,55,31"/>
<area shape="poly" title=" " alt="" coords="87,21,55,21,55,16,87,16"/>
</map>
</div>

</div>
</div>
<a id="a48fea78925df64034f443f952fddf680" name="a48fea78925df64034f443f952fddf680"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a48fea78925df64034f443f952fddf680">&#9670;&#160;</a></span>FP_framesRemaining()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int FP_framesRemaining </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structframe__pump__s.html">frame_pump_s</a> *</td>          <td class="paramname"><span class="paramname"><em>pump</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the number of frames remaining in the pump's internal buffer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pump</td><td>pump to check </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>number of frames remaining in the pump's internal buffer </dd></dl>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="pump_8c_a48fea78925df64034f443f952fddf680_icgraph.png" border="0" usemap="#apump_8c_a48fea78925df64034f443f952fddf680_icgraph" alt=""/></div>
<map name="apump_8c_a48fea78925df64034f443f952fddf680_icgraph" id="apump_8c_a48fea78925df64034f443f952fddf680_icgraph">
<area shape="rect" title="Returns the number of frames remaining in the pump&#39;s internal buffer." alt="" coords="512,5,659,31"/>
<area shape="rect" href="player_8c.html#a56fa00589840072b269070591b8c155d" title="Prints a log message summarizing the player&#39;s current state." alt="" coords="381,5,464,31"/>
<area shape="poly" title=" " alt="" coords="496,21,464,21,464,16,496,16"/>
<area shape="rect" href="player_8c.html#a30eb7f640562f5e082f537431fabfae0" title="Main loop of the player that drives the playback of the sequence. This function will block until the ..." alt="" coords="244,5,333,31"/>
<area shape="poly" title=" " alt="" coords="366,21,334,21,334,16,366,16"/>
<area shape="rect" href="player_8c.html#aaf3b0aad85ffca607bbf0daa9d634dc1" title="Initializes and starts playback of the given playback configuration. Execution will block until the s..." alt="" coords="103,5,196,31"/>
<area shape="poly" title=" " alt="" coords="228,21,196,21,196,16,228,16"/>
<area shape="rect" href="main_8c.html#ad5a52bc0401ed1bc06c779de5371d560" title=" " alt="" coords="5,5,55,31"/>
<area shape="poly" title=" " alt="" coords="87,21,55,21,55,16,87,16"/>
</map>
</div>

</div>
</div>
<a id="a7c99ef7d16fc21de2c707fa78e86ab81" name="a7c99ef7d16fc21de2c707fa78e86ab81"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7c99ef7d16fc21de2c707fa78e86ab81">&#9670;&#160;</a></span>FP_free()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void FP_free </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structframe__pump__s.html">frame_pump_s</a> *</td>          <td class="paramname"><span class="paramname"><em>pump</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Frees the resources associated with the provided frame pump. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pump</td><td>pump to free </td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="pump_8c_a7c99ef7d16fc21de2c707fa78e86ab81_cgraph.png" border="0" usemap="#apump_8c_a7c99ef7d16fc21de2c707fa78e86ab81_cgraph" alt=""/></div>
<map name="apump_8c_a7c99ef7d16fc21de2c707fa78e86ab81_cgraph" id="apump_8c_a7c99ef7d16fc21de2c707fa78e86ab81_cgraph">
<area shape="rect" title="Frees the resources associated with the provided frame pump." alt="" coords="5,5,73,31"/>
<area shape="rect" href="fd_8c.html#a04dc0c764a0555ae69a945fe0531167d" title="Frees all entry nodes in the list, but does not free the list itself." alt="" coords="121,5,189,31"/>
<area shape="poly" title=" " alt="" coords="73,16,105,16,105,21,73,21"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="pump_8c_a7c99ef7d16fc21de2c707fa78e86ab81_icgraph.png" border="0" usemap="#apump_8c_a7c99ef7d16fc21de2c707fa78e86ab81_icgraph" alt=""/></div>
<map name="apump_8c_a7c99ef7d16fc21de2c707fa78e86ab81_icgraph" id="apump_8c_a7c99ef7d16fc21de2c707fa78e86ab81_icgraph">
<area shape="rect" title="Frees the resources associated with the provided frame pump." alt="" coords="510,5,577,31"/>
<area shape="rect" href="player_8c.html#a4ec5687289d18651562957a247d20385" title="Frees dynamic allocated structures referenced by the player runtime data. rtd itself is not freed by ..." alt="" coords="374,5,462,31"/>
<area shape="poly" title=" " alt="" coords="494,21,462,21,462,16,494,16"/>
<area shape="rect" href="player_8c.html#aaf3b0aad85ffca607bbf0daa9d634dc1" title="Initializes and starts playback of the given playback configuration. Execution will block until the s..." alt="" coords="103,5,196,31"/>
<area shape="poly" title=" " alt="" coords="359,21,196,21,196,16,359,16"/>
<area shape="rect" href="player_8c.html#a3762a659d4e6c34bdf73d29dd0b8dc75" title="Populates the player runtime data with dynamically allocated structures before initializing each subs..." alt="" coords="244,31,326,56"/>
<area shape="poly" title=" " alt="" coords="359,32,327,38,326,33,358,27"/>
<area shape="rect" href="main_8c.html#ad5a52bc0401ed1bc06c779de5371d560" title=" " alt="" coords="5,5,55,31"/>
<area shape="poly" title=" " alt="" coords="87,21,55,21,55,16,87,16"/>
<area shape="poly" title=" " alt="" coords="228,36,196,29,197,24,229,30"/>
</map>
</div>

</div>
</div>
<a id="ace12e3aec7ac03743a8cf3d73bb37969" name="ace12e3aec7ac03743a8cf3d73bb37969"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace12e3aec7ac03743a8cf3d73bb37969">&#9670;&#160;</a></span>FP_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int FP_init </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="struct_f_c.html">FC</a> *</td>          <td class="paramname"><span class="paramname"><em>fc</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct tf_header_t *</td>          <td class="paramname"><span class="paramname"><em>seq</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structframe__pump__s.html">frame_pump_s</a> **</td>          <td class="paramname"><span class="paramname"><em>pump</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes a frame pump with the provided file controller. The pump will read frames from the file controller and store them in an internal buffer for playback. The pump will also preload the next frame set asynchronously in a separate thread to ensure smooth playback. The caller is responsible for freeing the pump with <code>FP_free</code>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fc</td><td>file controller to read frames from </td></tr>
    <tr><td class="paramname">seq</td><td>sequence file for file layout information </td></tr>
    <tr><td class="paramname">pump</td><td>pointer to store the initialized frame pump in </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, a negative error code on failure </dd></dl>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="pump_8c_ace12e3aec7ac03743a8cf3d73bb37969_icgraph.png" border="0" usemap="#apump_8c_ace12e3aec7ac03743a8cf3d73bb37969_icgraph" alt=""/></div>
<map name="apump_8c_ace12e3aec7ac03743a8cf3d73bb37969_icgraph" id="apump_8c_ace12e3aec7ac03743a8cf3d73bb37969_icgraph">
<area shape="rect" title="Initializes a frame pump with the provided file controller. The pump will read frames from the file c..." alt="" coords="374,5,437,31"/>
<area shape="rect" href="player_8c.html#a3762a659d4e6c34bdf73d29dd0b8dc75" title="Populates the player runtime data with dynamically allocated structures before initializing each subs..." alt="" coords="244,5,326,31"/>
<area shape="poly" title=" " alt="" coords="359,21,327,21,327,16,359,16"/>
<area shape="rect" href="player_8c.html#aaf3b0aad85ffca607bbf0daa9d634dc1" title="Initializes and starts playback of the given playback configuration. Execution will block until the s..." alt="" coords="103,5,196,31"/>
<area shape="poly" title=" " alt="" coords="228,21,196,21,196,16,228,16"/>
<area shape="rect" href="main_8c.html#ad5a52bc0401ed1bc06c779de5371d560" title=" " alt="" coords="5,5,55,31"/>
<area shape="poly" title=" " alt="" coords="87,21,55,21,55,16,87,16"/>
</map>
</div>

</div>
</div>
<a id="a2b6a9a5b1d91947a2eb549b4460f7366" name="a2b6a9a5b1d91947a2eb549b4460f7366"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2b6a9a5b1d91947a2eb549b4460f7366">&#9670;&#160;</a></span>FP_nextFrame()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int FP_nextFrame </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structframe__pump__s.html">frame_pump_s</a> *</td>          <td class="paramname"><span class="paramname"><em>pump</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t **</td>          <td class="paramname"><span class="paramname"><em>fd</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Copies the next frame of data from the pump to the provided frame data buffer. If the pump's internal buffer is empty, the pump will attempt to read more frames from the file controller provided during initialization. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pump</td><td>pump to copy from </td></tr>
    <tr><td class="paramname">fd</td><td>frame data pointer to return the next frame in </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, a negative error code on failure, or 1 if the pump has reached the end of the sequence </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="pump_8c_a2b6a9a5b1d91947a2eb549b4460f7366_cgraph.png" border="0" usemap="#apump_8c_a2b6a9a5b1d91947a2eb549b4460f7366_cgraph" alt=""/></div>
<map name="apump_8c_a2b6a9a5b1d91947a2eb549b4460f7366_cgraph" id="apump_8c_a2b6a9a5b1d91947a2eb549b4460f7366_cgraph">
<area shape="rect" title="Copies the next frame of data from the pump to the provided frame data buffer. If the pump&#39;s internal..." alt="" coords="5,183,113,208"/>
<area shape="rect" href="fd_8c.html#a04dc0c764a0555ae69a945fe0531167d" title="Frees all entry nodes in the list, but does not free the list itself." alt="" coords="691,156,759,182"/>
<area shape="poly" title=" " alt="" coords="113,191,675,168,675,173,113,196"/>
<area shape="rect" href="fd_8c.html#a090f54adf1443ed24378fe4f6e5e3c51" title="Returns the first node in the list and removes it for consumption by the caller. The caller is respon..." alt="" coords="161,233,232,259"/>
<area shape="poly" title=" " alt="" coords="97,206,147,225,145,230,95,211"/>
<area shape="rect" href="pump_8c.html#a0264c0768947899db76d3ab1ce394f95" title="Reads the next frame set from the file controller and stores it in the provided frame data node point..." alt="" coords="161,132,232,158"/>
<area shape="poly" title=" " alt="" coords="95,180,146,160,148,165,97,185"/>
<area shape="rect" href="comblock_8c.html#aa718f4faf13580abe13ffdba68e8d81c" title="Reads the given compression block (by index) from the given file controller and decompresses it (if s..." alt="" coords="280,81,394,107"/>
<area shape="poly" title=" " alt="" coords="231,130,284,110,286,115,233,135"/>
<area shape="rect" href="pump_8c.html#ae3e1163b243cb1bf5d8175efcff04362" title="Reads the next frame set from the file controller and stores it in the provided frame data node point..." alt="" coords="466,132,559,158"/>
<area shape="poly" title=" " alt="" coords="232,142,450,142,450,148,232,148"/>
<area shape="rect" href="comblock_8c.html#abaf2a087d477ec548fe50d7815089279" title="Reads the given compression block (by index) from the given file controller and decompresses it using..." alt="" coords="442,81,583,107"/>
<area shape="poly" title=" " alt="" coords="395,92,427,92,427,97,395,97"/>
<area shape="poly" title=" " alt="" coords="554,105,584,117,608,130,632,142,676,156,675,161,630,147,605,135,582,122,552,110"/>
<area shape="rect" href="comblock_8c.html#a184922fb41719bd272b55c1402a9e7de" title="Calculates the absolute address of the given compression block index and its encoded size." alt="" coords="631,5,819,31"/>
<area shape="poly" title=" " alt="" coords="548,78,630,48,668,34,670,39,632,53,549,83"/>
<area shape="rect" href="fc_8c.html#a567dd57b805c1d46e224bd218e9c4293" title="Reads the given number of bytes from the file controller starting at the given offset." alt="" coords="867,31,938,56"/>
<area shape="poly" title=" " alt="" coords="583,82,852,47,852,53,583,88"/>
<area shape="rect" href="fd_8c.html#a0adfd6501d174720db95b64d706ac476" title="Appends a new frame data block to the end of the list. The frame data provided is not copied,..." alt="" coords="681,107,769,132"/>
<area shape="poly" title=" " alt="" coords="583,100,666,110,665,115,583,105"/>
<area shape="poly" title=" " alt="" coords="820,29,852,34,851,39,819,34"/>
<area shape="poly" title=" " alt="" coords="560,147,676,161,675,166,559,153"/>
<area shape="poly" title=" " alt="" coords="559,137,665,124,665,129,560,142"/>
<area shape="rect" href="fc_8c.html#a479c14c40649932a98343269452e6111" title="Reads up to the given number of bytes from the file controller starting at the given offset,..." alt="" coords="684,205,766,231"/>
<area shape="poly" title=" " alt="" coords="543,156,632,192,669,203,668,208,630,197,541,161"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="pump_8c_a2b6a9a5b1d91947a2eb549b4460f7366_icgraph.png" border="0" usemap="#apump_8c_a2b6a9a5b1d91947a2eb549b4460f7366_icgraph" alt=""/></div>
<map name="apump_8c_a2b6a9a5b1d91947a2eb549b4460f7366_icgraph" id="apump_8c_a2b6a9a5b1d91947a2eb549b4460f7366_icgraph">
<area shape="rect" title="Copies the next frame of data from the pump to the provided frame data buffer. If the pump&#39;s internal..." alt="" coords="560,5,667,31"/>
<area shape="rect" href="player_8c.html#a0be44cb011fa97a198c60458b0761809" title="Increments the current frame index and writes the minified frame data to the serial output...." alt="" coords="381,5,512,31"/>
<area shape="poly" title=" " alt="" coords="544,21,512,21,512,16,544,16"/>
<area shape="rect" href="player_8c.html#a30eb7f640562f5e082f537431fabfae0" title="Main loop of the player that drives the playback of the sequence. This function will block until the ..." alt="" coords="244,5,333,31"/>
<area shape="poly" title=" " alt="" coords="365,21,334,21,334,16,365,16"/>
<area shape="rect" href="player_8c.html#aaf3b0aad85ffca607bbf0daa9d634dc1" title="Initializes and starts playback of the given playback configuration. Execution will block until the s..." alt="" coords="103,5,196,31"/>
<area shape="poly" title=" " alt="" coords="228,21,196,21,196,16,228,16"/>
<area shape="rect" href="main_8c.html#ad5a52bc0401ed1bc06c779de5371d560" title=" " alt="" coords="5,5,55,31"/>
<area shape="poly" title=" " alt="" coords="87,21,55,21,55,16,87,16"/>
</map>
</div>

</div>
</div>
<a id="a0264c0768947899db76d3ab1ce394f95" name="a0264c0768947899db76d3ab1ce394f95"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0264c0768947899db76d3ab1ce394f95">&#9670;&#160;</a></span>FP_read()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int FP_read </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structframe__pump__s.html">frame_pump_s</a> *</td>          <td class="paramname"><span class="paramname"><em>pump</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structfd__list__s.html">fd_list_s</a> *</td>          <td class="paramname"><span class="paramname"><em>list</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reads the next frame set from the file controller and stores it in the provided frame data node pointer. The pump should have its <code>pos</code> union updated with read request position information before calling this function. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pump</td><td>frame pump to read from </td></tr>
    <tr><td class="paramname">list</td><td>frame data list pointer to store the next frame set in </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, a negative error code on failure, or <code>FP_ESEQEND</code> if the pump has reached the end of the sequence </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="pump_8c_a0264c0768947899db76d3ab1ce394f95_cgraph.png" border="0" usemap="#apump_8c_a0264c0768947899db76d3ab1ce394f95_cgraph" alt=""/></div>
<map name="apump_8c_a0264c0768947899db76d3ab1ce394f95_cgraph" id="apump_8c_a0264c0768947899db76d3ab1ce394f95_cgraph">
<area shape="rect" title="Reads the next frame set from the file controller and stores it in the provided frame data node point..." alt="" coords="5,106,76,132"/>
<area shape="rect" href="comblock_8c.html#aa718f4faf13580abe13ffdba68e8d81c" title="Reads the given compression block (by index) from the given file controller and decompresses it (if s..." alt="" coords="124,81,238,106"/>
<area shape="poly" title=" " alt="" coords="76,110,108,104,109,109,77,115"/>
<area shape="rect" href="pump_8c.html#ae3e1163b243cb1bf5d8175efcff04362" title="Reads the next frame set from the file controller and stores it in the provided frame data node point..." alt="" coords="310,131,403,157"/>
<area shape="poly" title=" " alt="" coords="76,119,294,137,294,142,76,124"/>
<area shape="rect" href="comblock_8c.html#abaf2a087d477ec548fe50d7815089279" title="Reads the given compression block (by index) from the given file controller and decompresses it using..." alt="" coords="286,81,426,106"/>
<area shape="poly" title=" " alt="" coords="238,91,270,91,270,96,238,96"/>
<area shape="rect" href="comblock_8c.html#a184922fb41719bd272b55c1402a9e7de" title="Calculates the absolute address of the given compression block index and its encoded size." alt="" coords="474,33,663,58"/>
<area shape="poly" title=" " alt="" coords="416,77,493,60,494,65,417,83"/>
<area shape="rect" href="fc_8c.html#a567dd57b805c1d46e224bd218e9c4293" title="Reads the given number of bytes from the file controller starting at the given offset." alt="" coords="711,7,782,33"/>
<area shape="poly" title=" " alt="" coords="371,78,414,46,443,30,474,18,532,6,592,3,648,5,696,10,695,15,648,10,592,8,533,12,475,23,445,34,417,50,374,82"/>
<area shape="rect" href="fd_8c.html#a0adfd6501d174720db95b64d706ac476" title="Appends a new frame data block to the end of the list. The frame data provided is not copied,..." alt="" coords="524,131,613,157"/>
<area shape="poly" title=" " alt="" coords="414,104,510,128,509,133,413,110"/>
<area shape="rect" href="fd_8c.html#a04dc0c764a0555ae69a945fe0531167d" title="Frees all entry nodes in the list, but does not free the list itself." alt="" coords="534,82,603,108"/>
<area shape="poly" title=" " alt="" coords="427,91,519,92,519,97,427,97"/>
<area shape="poly" title=" " alt="" coords="663,29,695,25,696,30,663,35"/>
<area shape="poly" title=" " alt="" coords="403,142,509,142,509,147,403,147"/>
<area shape="poly" title=" " alt="" coords="402,131,519,104,520,109,404,136"/>
<area shape="rect" href="fc_8c.html#a479c14c40649932a98343269452e6111" title="Reads up to the given number of bytes from the file controller starting at the given offset,..." alt="" coords="527,181,610,206"/>
<area shape="poly" title=" " alt="" coords="404,152,512,178,511,183,402,158"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="pump_8c_a0264c0768947899db76d3ab1ce394f95_icgraph.png" border="0" usemap="#apump_8c_a0264c0768947899db76d3ab1ce394f95_icgraph" alt=""/></div>
<map name="apump_8c_a0264c0768947899db76d3ab1ce394f95_icgraph" id="apump_8c_a0264c0768947899db76d3ab1ce394f95_icgraph">
<area shape="rect" title="Reads the next frame set from the file controller and stores it in the provided frame data node point..." alt="" coords="861,29,932,55"/>
<area shape="rect" href="pump_8c.html#a2b6a9a5b1d91947a2eb549b4460f7366" title="Copies the next frame of data from the pump to the provided frame data buffer. If the pump&#39;s internal..." alt="" coords="568,5,676,31"/>
<area shape="poly" title=" " alt="" coords="845,40,676,25,676,20,846,35"/>
<area shape="rect" href="pump_8c.html#a41c6c4a221b68550e0b0ad6fbf0fd1ce" title=" " alt="" coords="732,55,813,80"/>
<area shape="poly" title=" " alt="" coords="847,55,814,62,813,57,845,50"/>
<area shape="rect" href="player_8c.html#a0be44cb011fa97a198c60458b0761809" title="Increments the current frame index and writes the minified frame data to the serial output...." alt="" coords="381,31,512,56"/>
<area shape="poly" title=" " alt="" coords="553,31,512,37,511,31,552,25"/>
<area shape="rect" href="player_8c.html#a30eb7f640562f5e082f537431fabfae0" title="Main loop of the player that drives the playback of the sequence. This function will block until the ..." alt="" coords="244,31,333,56"/>
<area shape="poly" title=" " alt="" coords="365,46,334,46,334,41,365,41"/>
<area shape="rect" href="player_8c.html#aaf3b0aad85ffca607bbf0daa9d634dc1" title="Initializes and starts playback of the given playback configuration. Execution will block until the s..." alt="" coords="103,31,196,56"/>
<area shape="poly" title=" " alt="" coords="228,46,196,46,196,41,228,41"/>
<area shape="rect" href="main_8c.html#ad5a52bc0401ed1bc06c779de5371d560" title=" " alt="" coords="5,31,55,56"/>
<area shape="poly" title=" " alt="" coords="87,46,55,46,55,41,87,41"/>
<area shape="rect" href="pump_8c.html#a52ae12b729974435a410e9753a2c6bb6" title="Checks if the pump&#39;s internal buffer is low, and if so, preloads the next frame set from the file con..." alt="" coords="560,55,684,80"/>
<area shape="poly" title=" " alt="" coords="716,70,684,70,684,65,716,65"/>
<area shape="poly" title=" " alt="" coords="544,60,512,55,512,50,545,54"/>
</map>
</div>

</div>
</div>
<a id="ae3e1163b243cb1bf5d8175efcff04362" name="ae3e1163b243cb1bf5d8175efcff04362"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae3e1163b243cb1bf5d8175efcff04362">&#9670;&#160;</a></span>FP_readSeq()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int FP_readSeq </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="struct_f_c.html">FC</a> *</td>          <td class="paramname"><span class="paramname"><em>fc</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct tf_header_t *</td>          <td class="paramname"><span class="paramname"><em>seq</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint32_t</td>          <td class="paramname"><span class="paramname"><em>frame</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structfd__list__s.html">fd_list_s</a> *</td>          <td class="paramname"><span class="paramname"><em>list</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reads the next frame set from the file controller and stores it in the provided frame data node pointer. This function is used when the sequence is not compressed and read sequentially from the file controller. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fc</td><td>file controller to read from </td></tr>
    <tr><td class="paramname">seq</td><td>sequence header for playback configuration </td></tr>
    <tr><td class="paramname">frame</td><td>frame index to read </td></tr>
    <tr><td class="paramname">list</td><td>frame data list pointer to store the next frame set in </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, a negative error code on failure, or <code>FP_ESEQEND</code> if the pump has reached the end of the sequence </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="pump_8c_ae3e1163b243cb1bf5d8175efcff04362_cgraph.png" border="0" usemap="#apump_8c_ae3e1163b243cb1bf5d8175efcff04362_cgraph" alt=""/></div>
<map name="apump_8c_ae3e1163b243cb1bf5d8175efcff04362_cgraph" id="apump_8c_ae3e1163b243cb1bf5d8175efcff04362_cgraph">
<area shape="rect" title="Reads the next frame set from the file controller and stores it in the provided frame data node point..." alt="" coords="5,55,99,80"/>
<area shape="rect" href="fc_8c.html#a479c14c40649932a98343269452e6111" title="Reads up to the given number of bytes from the file controller starting at the given offset,..." alt="" coords="150,5,232,31"/>
<area shape="poly" title=" " alt="" coords="90,52,137,34,139,39,91,57"/>
<area shape="rect" href="fd_8c.html#a0adfd6501d174720db95b64d706ac476" title="Appends a new frame data block to the end of the list. The frame data provided is not copied,..." alt="" coords="147,55,235,80"/>
<area shape="poly" title=" " alt="" coords="99,65,131,65,131,70,99,70"/>
<area shape="rect" href="fd_8c.html#a04dc0c764a0555ae69a945fe0531167d" title="Frees all entry nodes in the list, but does not free the list itself." alt="" coords="157,104,225,130"/>
<area shape="poly" title=" " alt="" coords="91,78,143,97,141,102,90,83"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="pump_8c_ae3e1163b243cb1bf5d8175efcff04362_icgraph.png" border="0" usemap="#apump_8c_ae3e1163b243cb1bf5d8175efcff04362_icgraph" alt=""/></div>
<map name="apump_8c_ae3e1163b243cb1bf5d8175efcff04362_icgraph" id="apump_8c_ae3e1163b243cb1bf5d8175efcff04362_icgraph">
<area shape="rect" title="Reads the next frame set from the file controller and stores it in the provided frame data node point..." alt="" coords="980,29,1073,55"/>
<area shape="rect" href="pump_8c.html#a0264c0768947899db76d3ab1ce394f95" title="Reads the next frame set from the file controller and stores it in the provided frame data node point..." alt="" coords="861,29,932,55"/>
<area shape="poly" title=" " alt="" coords="964,45,932,45,932,40,964,40"/>
<area shape="rect" href="pump_8c.html#a2b6a9a5b1d91947a2eb549b4460f7366" title="Copies the next frame of data from the pump to the provided frame data buffer. If the pump&#39;s internal..." alt="" coords="568,5,676,31"/>
<area shape="poly" title=" " alt="" coords="845,40,676,25,676,20,846,35"/>
<area shape="rect" href="pump_8c.html#a41c6c4a221b68550e0b0ad6fbf0fd1ce" title=" " alt="" coords="732,55,813,80"/>
<area shape="poly" title=" " alt="" coords="847,55,814,62,813,57,845,50"/>
<area shape="rect" href="player_8c.html#a0be44cb011fa97a198c60458b0761809" title="Increments the current frame index and writes the minified frame data to the serial output...." alt="" coords="381,31,512,56"/>
<area shape="poly" title=" " alt="" coords="553,31,512,37,511,31,552,25"/>
<area shape="rect" href="player_8c.html#a30eb7f640562f5e082f537431fabfae0" title="Main loop of the player that drives the playback of the sequence. This function will block until the ..." alt="" coords="244,31,333,56"/>
<area shape="poly" title=" " alt="" coords="365,46,334,46,334,41,365,41"/>
<area shape="rect" href="player_8c.html#aaf3b0aad85ffca607bbf0daa9d634dc1" title="Initializes and starts playback of the given playback configuration. Execution will block until the s..." alt="" coords="103,31,196,56"/>
<area shape="poly" title=" " alt="" coords="228,46,196,46,196,41,228,41"/>
<area shape="rect" href="main_8c.html#ad5a52bc0401ed1bc06c779de5371d560" title=" " alt="" coords="5,31,55,56"/>
<area shape="poly" title=" " alt="" coords="87,46,55,46,55,41,87,41"/>
<area shape="rect" href="pump_8c.html#a52ae12b729974435a410e9753a2c6bb6" title="Checks if the pump&#39;s internal buffer is low, and if so, preloads the next frame set from the file con..." alt="" coords="560,55,684,80"/>
<area shape="poly" title=" " alt="" coords="716,70,684,70,684,65,716,65"/>
<area shape="poly" title=" " alt="" coords="544,60,512,55,512,50,545,54"/>
</map>
</div>

</div>
</div>
<a id="a41c6c4a221b68550e0b0ad6fbf0fd1ce" name="a41c6c4a221b68550e0b0ad6fbf0fd1ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a41c6c4a221b68550e0b0ad6fbf0fd1ce">&#9670;&#160;</a></span>FP_thread()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void * FP_thread </td>
          <td>(</td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>pargs</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="pump_8c_a41c6c4a221b68550e0b0ad6fbf0fd1ce_cgraph.png" border="0" usemap="#apump_8c_a41c6c4a221b68550e0b0ad6fbf0fd1ce_cgraph" alt=""/></div>
<map name="apump_8c_a41c6c4a221b68550e0b0ad6fbf0fd1ce_cgraph" id="apump_8c_a41c6c4a221b68550e0b0ad6fbf0fd1ce_cgraph">
<area shape="rect" title=" " alt="" coords="5,183,87,208"/>
<area shape="rect" href="fd_8c.html#a04dc0c764a0555ae69a945fe0531167d" title="Frees all entry nodes in the list, but does not free the list itself." alt="" coords="680,156,748,182"/>
<area shape="poly" title=" " alt="" coords="87,191,664,168,664,173,87,197"/>
<area shape="rect" href="pump_8c.html#a0264c0768947899db76d3ab1ce394f95" title="Reads the next frame set from the file controller and stores it in the provided frame data node point..." alt="" coords="143,132,213,158"/>
<area shape="poly" title=" " alt="" coords="81,180,128,161,130,166,83,185"/>
<area shape="rect" href="errcode_8c.html#aa8f97434516ad3fd89df7d8d239d4927" title="Returns the error message string for the given error code." alt="" coords="135,233,221,259"/>
<area shape="poly" title=" " alt="" coords="83,206,130,225,128,230,81,211"/>
<area shape="rect" href="comblock_8c.html#aa718f4faf13580abe13ffdba68e8d81c" title="Reads the given compression block (by index) from the given file controller and decompresses it (if s..." alt="" coords="269,81,383,107"/>
<area shape="poly" title=" " alt="" coords="212,130,271,110,273,115,214,135"/>
<area shape="rect" href="pump_8c.html#ae3e1163b243cb1bf5d8175efcff04362" title="Reads the next frame set from the file controller and stores it in the provided frame data node point..." alt="" coords="455,132,548,158"/>
<area shape="poly" title=" " alt="" coords="214,142,439,142,439,148,214,148"/>
<area shape="rect" href="comblock_8c.html#abaf2a087d477ec548fe50d7815089279" title="Reads the given compression block (by index) from the given file controller and decompresses it using..." alt="" coords="431,81,572,107"/>
<area shape="poly" title=" " alt="" coords="384,92,416,92,416,97,384,97"/>
<area shape="poly" title=" " alt="" coords="543,105,573,117,597,130,621,142,665,156,664,161,619,147,594,135,571,122,541,110"/>
<area shape="rect" href="comblock_8c.html#a184922fb41719bd272b55c1402a9e7de" title="Calculates the absolute address of the given compression block index and its encoded size." alt="" coords="620,5,808,31"/>
<area shape="poly" title=" " alt="" coords="537,78,619,48,657,34,659,39,621,53,538,83"/>
<area shape="rect" href="fc_8c.html#a567dd57b805c1d46e224bd218e9c4293" title="Reads the given number of bytes from the file controller starting at the given offset." alt="" coords="856,31,927,56"/>
<area shape="poly" title=" " alt="" coords="572,82,841,47,841,53,572,88"/>
<area shape="rect" href="fd_8c.html#a0adfd6501d174720db95b64d706ac476" title="Appends a new frame data block to the end of the list. The frame data provided is not copied,..." alt="" coords="670,107,758,132"/>
<area shape="poly" title=" " alt="" coords="572,100,655,110,654,115,572,105"/>
<area shape="poly" title=" " alt="" coords="809,29,841,34,840,39,808,34"/>
<area shape="poly" title=" " alt="" coords="549,147,665,161,664,166,548,153"/>
<area shape="poly" title=" " alt="" coords="548,137,654,124,654,129,549,142"/>
<area shape="rect" href="fc_8c.html#a479c14c40649932a98343269452e6111" title="Reads up to the given number of bytes from the file controller starting at the given offset,..." alt="" coords="673,205,755,231"/>
<area shape="poly" title=" " alt="" coords="532,156,621,192,658,203,657,208,619,197,530,161"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="pump_8c_a41c6c4a221b68550e0b0ad6fbf0fd1ce_icgraph.png" border="0" usemap="#apump_8c_a41c6c4a221b68550e0b0ad6fbf0fd1ce_icgraph" alt=""/></div>
<map name="apump_8c_a41c6c4a221b68550e0b0ad6fbf0fd1ce_icgraph" id="apump_8c_a41c6c4a221b68550e0b0ad6fbf0fd1ce_icgraph">
<area shape="rect" title=" " alt="" coords="732,5,813,31"/>
<area shape="rect" href="pump_8c.html#a52ae12b729974435a410e9753a2c6bb6" title="Checks if the pump&#39;s internal buffer is low, and if so, preloads the next frame set from the file con..." alt="" coords="560,5,684,31"/>
<area shape="poly" title=" " alt="" coords="716,21,684,21,684,16,716,16"/>
<area shape="rect" href="player_8c.html#a0be44cb011fa97a198c60458b0761809" title="Increments the current frame index and writes the minified frame data to the serial output...." alt="" coords="381,5,512,31"/>
<area shape="poly" title=" " alt="" coords="544,21,512,21,512,16,544,16"/>
<area shape="rect" href="player_8c.html#a30eb7f640562f5e082f537431fabfae0" title="Main loop of the player that drives the playback of the sequence. This function will block until the ..." alt="" coords="244,5,333,31"/>
<area shape="poly" title=" " alt="" coords="365,21,334,21,334,16,365,16"/>
<area shape="rect" href="player_8c.html#aaf3b0aad85ffca607bbf0daa9d634dc1" title="Initializes and starts playback of the given playback configuration. Execution will block until the s..." alt="" coords="103,5,196,31"/>
<area shape="poly" title=" " alt="" coords="228,21,196,21,196,16,228,16"/>
<area shape="rect" href="main_8c.html#ad5a52bc0401ed1bc06c779de5371d560" title=" " alt="" coords="5,5,55,31"/>
<area shape="poly" title=" " alt="" coords="87,21,55,21,55,16,87,16"/>
</map>
</div>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="pump_8c.html">pump.c</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0 </li>
  </ul>
</div>
</body>
</html>
