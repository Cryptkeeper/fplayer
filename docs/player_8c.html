<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>fplayer: src/player.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">fplayer
   </div>
   <div id="projectbrief">C99 Falcon Sequence (fseq) file player for Light-O-Rama hardware (like xLights)</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('player_8c.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">player.c File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Playback execution function implementation.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="player_8h_source.html">player.h</a>&quot;</code><br />
<code>#include &lt;assert.h&gt;</code><br />
<code>#include &lt;stdint.h&gt;</code><br />
<code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &quot;tinyfseq.h&quot;</code><br />
<code>#include &quot;tinylor.h&quot;</code><br />
<code>#include &quot;<a class="el" href="audio_8h_source.html">audio.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="cell_8h_source.html">cell.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="crmap_8h_source.html">crmap.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="seq_8h_source.html">fseq/seq.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="pump_8h_source.html">pump.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="putil_8h_source.html">putil.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="queue_8h_source.html">queue.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="serial_8h_source.html">serial.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="sleep_8h_source.html">sleep.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="errcode_8h_source.html">std2/errcode.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="fc_8h_source.html">std2/fc.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for player.c:</div>
<div class="dyncontent">
<div class="center"><img src="player_8c__incl.png" border="0" usemap="#asrc_2player_8c" alt=""/></div>
<map name="asrc_2player_8c" id="asrc_2player_8c">
<area shape="rect" title="Playback execution function implementation." alt="" coords="741,5,829,31"/>
<area shape="rect" href="player_8h.html" title="Playback execution function declaration." alt="" coords="5,79,72,105"/>
<area shape="poly" title=" " alt="" coords="741,23,468,38,281,55,88,81,87,76,281,50,468,33,740,18"/>
<area shape="rect" title=" " alt="" coords="96,79,165,105"/>
<area shape="poly" title=" " alt="" coords="741,24,505,41,345,57,180,81,180,76,345,52,504,35,740,19"/>
<area shape="rect" title=" " alt="" coords="1010,153,1075,178"/>
<area shape="poly" title=" " alt="" coords="793,30,813,66,828,86,847,103,883,123,922,139,996,156,995,161,920,144,880,128,844,107,824,89,809,69,788,33"/>
<area shape="rect" title=" " alt="" coords="275,79,335,105"/>
<area shape="poly" title=" " alt="" coords="741,26,573,45,464,61,351,81,350,76,463,56,572,40,740,21"/>
<area shape="rect" title=" " alt="" coords="359,79,422,105"/>
<area shape="poly" title=" " alt="" coords="741,28,609,49,438,81,437,76,608,44,740,23"/>
<area shape="rect" title=" " alt="" coords="446,79,524,105"/>
<area shape="poly" title=" " alt="" coords="742,33,540,80,539,75,740,27"/>
<area shape="rect" title=" " alt="" coords="548,79,614,105"/>
<area shape="poly" title=" " alt="" coords="751,34,630,76,628,71,750,29"/>
<area shape="rect" href="audio_8h.html" title="Audio system interface." alt="" coords="188,79,252,105"/>
<area shape="poly" title=" " alt="" coords="741,25,539,43,405,59,267,81,266,76,405,54,538,37,740,20"/>
<area shape="rect" href="cell_8h.html" title="Cell table for tracking output states." alt="" coords="1060,79,1113,105"/>
<area shape="poly" title=" " alt="" coords="830,26,1046,76,1045,81,829,31"/>
<area shape="rect" href="crmap_8h.html" title="Channel range map interface." alt="" coords="1228,79,1297,105"/>
<area shape="poly" title=" " alt="" coords="830,21,995,41,1214,76,1213,81,994,47,829,27"/>
<area shape="rect" href="seq_8h.html" title="FSEQ sequence file loading API." alt="" coords="857,79,940,105"/>
<area shape="poly" title=" " alt="" coords="806,29,868,68,865,73,803,34"/>
<area shape="rect" href="pump_8h.html" title="Frame data loading interface." alt="" coords="1321,79,1385,105"/>
<area shape="poly" title=" " alt="" coords="830,20,1033,38,1167,54,1306,76,1305,81,1166,59,1032,43,830,25"/>
<area shape="rect" href="putil_8h.html" title="Playback utility functions." alt="" coords="638,79,695,105"/>
<area shape="poly" title=" " alt="" coords="766,34,701,73,698,68,764,29"/>
<area shape="rect" href="queue_8h.html" title="Playback queue interface." alt="" coords="1137,79,1204,105"/>
<area shape="poly" title=" " alt="" coords="830,24,958,44,1122,76,1121,81,957,50,829,29"/>
<area shape="rect" href="serial_8h.html" title="Serial port communication interface." alt="" coords="1538,79,1601,105"/>
<area shape="poly" title=" " alt="" coords="830,18,948,22,1118,31,1317,49,1523,76,1522,82,1316,54,1117,37,948,27,830,23"/>
<area shape="rect" href="sleep_8h.html" title="Adaptive sleep time controller for frame rate control." alt="" coords="719,79,782,105"/>
<area shape="poly" title=" " alt="" coords="782,32,765,66,761,64,777,30"/>
<area shape="rect" href="errcode_8h.html" title="Error code definitions and message strings." alt="" coords="1409,79,1513,105"/>
<area shape="poly" title=" " alt="" coords="830,20,1067,39,1394,76,1393,81,1066,45,830,25"/>
<area shape="rect" href="fc_8h.html" title="File controller interface for reading/writing files." alt="" coords="964,79,1036,105"/>
<area shape="poly" title=" " alt="" coords="822,29,950,71,948,76,821,34"/>
<area shape="rect" title=" " alt="" coords="183,153,257,178"/>
<area shape="poly" title=" " alt="" coords="222,105,222,137,217,137,217,105"/>
<area shape="poly" title=" " alt="" coords="1082,106,1060,141,1056,138,1077,103"/>
<area shape="poly" title=" " alt="" coords="1229,107,1090,151,1089,146,1227,102"/>
<area shape="poly" title=" " alt="" coords="1321,104,1310,107,1090,157,1089,152,1309,102,1320,99"/>
<area shape="poly" title=" " alt="" coords="696,99,707,102,865,134,995,155,994,160,864,139,706,107,695,104"/>
<area shape="poly" title=" " alt="" coords="1538,105,1526,107,1403,128,1281,144,1090,163,1090,158,1281,139,1402,122,1525,102,1537,99"/>
<area shape="rect" title=" " alt="" coords="1548,153,1590,178"/>
<area shape="poly" title=" " alt="" coords="1572,105,1572,137,1566,137,1566,105"/>
<area shape="poly" title=" " alt="" coords="783,98,996,150,995,155,782,103"/>
<area shape="poly" title=" " alt="" coords="1009,104,1030,138,1025,141,1005,106"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structplayer__rtd__s.html">player_rtd_s</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Player runtime data structure.  <a href="structplayer__rtd__s.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a4ec5687289d18651562957a247d20385" id="r_a4ec5687289d18651562957a247d20385"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4ec5687289d18651562957a247d20385">Player_free</a> (struct <a class="el" href="structplayer__rtd__s.html">player_rtd_s</a> *rtd)</td></tr>
<tr class="memdesc:a4ec5687289d18651562957a247d20385"><td class="mdescLeft">&#160;</td><td class="mdescRight">Frees dynamic allocated structures referenced by the player runtime data. <code>rtd</code> itself is not freed by this function.  <br /></td></tr>
<tr class="separator:a4ec5687289d18651562957a247d20385"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3762a659d4e6c34bdf73d29dd0b8dc75" id="r_a3762a659d4e6c34bdf73d29dd0b8dc75"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3762a659d4e6c34bdf73d29dd0b8dc75">Player_init</a> (struct <a class="el" href="struct_f_c.html">FC</a> *fc, struct <a class="el" href="structcr__s.html">cr_s</a> *cmap, struct <a class="el" href="structplayer__rtd__s.html">player_rtd_s</a> *rtd)</td></tr>
<tr class="memdesc:a3762a659d4e6c34bdf73d29dd0b8dc75"><td class="mdescLeft">&#160;</td><td class="mdescRight">Populates the player runtime data with dynamically allocated structures before initializing each subsystem.  <br /></td></tr>
<tr class="separator:a3762a659d4e6c34bdf73d29dd0b8dc75"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56fa00589840072b269070591b8c155d" id="r_a56fa00589840072b269070591b8c155d"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a56fa00589840072b269070591b8c155d">Player_log</a> (struct <a class="el" href="structplayer__rtd__s.html">player_rtd_s</a> *rtd)</td></tr>
<tr class="memdesc:a56fa00589840072b269070591b8c155d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prints a log message summarizing the player's current state.  <br /></td></tr>
<tr class="separator:a56fa00589840072b269070591b8c155d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0be44cb011fa97a198c60458b0761809" id="r_a0be44cb011fa97a198c60458b0761809"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0be44cb011fa97a198c60458b0761809">Player_writeFrame</a> (struct <a class="el" href="structplayer__rtd__s.html">player_rtd_s</a> *rtd, struct <a class="el" href="structserialdev__s.html">serialdev_s</a> *sdev)</td></tr>
<tr class="memdesc:a0be44cb011fa97a198c60458b0761809"><td class="mdescLeft">&#160;</td><td class="mdescRight">Increments the current frame index and writes the minified frame data to the serial output. This function drives the core functionality of the player.  <br /></td></tr>
<tr class="separator:a0be44cb011fa97a198c60458b0761809"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30eb7f640562f5e082f537431fabfae0" id="r_a30eb7f640562f5e082f537431fabfae0"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a30eb7f640562f5e082f537431fabfae0">Player_loop</a> (struct <a class="el" href="structplayer__rtd__s.html">player_rtd_s</a> *rtd, struct <a class="el" href="structserialdev__s.html">serialdev_s</a> *sdev)</td></tr>
<tr class="memdesc:a30eb7f640562f5e082f537431fabfae0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Main loop of the player that drives the playback of the sequence. This function will block until the sequence is complete, writing frame data to the serial output and logging the player's current state. A heartbeat message is sent every ~500ms to ensure the connection is maintained.  <br /></td></tr>
<tr class="separator:a30eb7f640562f5e082f537431fabfae0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf3b0aad85ffca607bbf0daa9d634dc1" id="r_aaf3b0aad85ffca607bbf0daa9d634dc1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aaf3b0aad85ffca607bbf0daa9d634dc1">Player_exec</a> (struct <a class="el" href="structqentry__s.html">qentry_s</a> *req, struct <a class="el" href="structserialdev__s.html">serialdev_s</a> *sdev)</td></tr>
<tr class="memdesc:aaf3b0aad85ffca607bbf0daa9d634dc1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes and starts playback of the given playback configuration. Execution will block until the sequence is complete, including audio playback; unless an error occurs. The caller is responsible for freeing the resources provided in the playback request.  <br /></td></tr>
<tr class="separator:aaf3b0aad85ffca607bbf0daa9d634dc1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Playback execution function implementation. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="aaf3b0aad85ffca607bbf0daa9d634dc1" name="aaf3b0aad85ffca607bbf0daa9d634dc1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaf3b0aad85ffca607bbf0daa9d634dc1">&#9670;&#160;</a></span>Player_exec()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int Player_exec </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structqentry__s.html">qentry_s</a> *</td>          <td class="paramname"><span class="paramname"><em>req</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structserialdev__s.html">serialdev_s</a> *</td>          <td class="paramname"><span class="paramname"><em>sdev</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes and starts playback of the given playback configuration. Execution will block until the sequence is complete, including audio playback; unless an error occurs. The caller is responsible for freeing the resources provided in the playback request. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">req</td><td>play request to execute </td></tr>
    <tr><td class="paramname">sdev</td><td>serial device to use for playback </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, a negative error code on failure </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="player_8c_aaf3b0aad85ffca607bbf0daa9d634dc1_cgraph.png" border="0" usemap="#aplayer_8c_aaf3b0aad85ffca607bbf0daa9d634dc1_cgraph" alt=""/></div>
<map name="aplayer_8c_aaf3b0aad85ffca607bbf0daa9d634dc1_cgraph" id="aplayer_8c_aaf3b0aad85ffca607bbf0daa9d634dc1_cgraph">
<area shape="rect" title="Initializes and starts playback of the given playback configuration. Execution will block until the s..." alt="" coords="5,359,99,384"/>
<area shape="rect" href="crmap_8c.html#aa8639f1dbce189cad0ae124f22a98bfb" title="Frees the given channel range map by walking the linked list and freeing each node." alt="" coords="542,5,627,31"/>
<area shape="poly" title=" " alt="" coords="53,358,61,317,78,260,106,197,123,167,145,139,186,102,233,73,284,51,337,35,390,24,441,17,526,13,527,19,442,23,391,29,339,40,286,56,235,77,189,106,149,143,128,170,110,199,83,262,67,319,58,359"/>
<area shape="rect" href="crmap_8c.html#aa78ac33184789e0eefd5c7d832c4e0ee" title="Reads a channel range map from the given file path. The channel range map is a linked list of channel..." alt="" coords="168,207,256,232"/>
<area shape="poly" title=" " alt="" coords="59,357,93,306,117,276,145,249,162,238,165,242,148,254,121,280,97,309,63,360"/>
<area shape="rect" href="fc_8c.html#a71eeb6fecce7b6562f003584e5612783" title="Closes the given file controller instance and frees its resources." alt="" coords="546,208,623,234"/>
<area shape="poly" title=" " alt="" coords="54,357,64,324,82,279,108,232,125,211,145,192,184,163,221,142,257,128,292,120,329,118,368,122,458,142,486,152,512,166,557,196,554,200,510,171,484,157,457,147,367,127,329,123,293,125,258,133,223,147,187,168,148,196,129,214,113,235,86,282,69,326,59,359"/>
<area shape="rect" href="fc_8c.html#a187fc5e1ed767a5f93723badd5522f9c" title="Opens a file controller instance for the given file path and mode." alt="" coords="354,259,428,284"/>
<area shape="poly" title=" " alt="" coords="63,357,97,324,120,307,146,293,195,278,247,269,339,266,339,271,248,274,197,283,148,298,123,311,100,328,66,361"/>
<area shape="rect" href="errcode_8c.html#aa8f97434516ad3fd89df7d8d239d4927" title="Returns the error message string for the given error code." alt="" coords="169,308,255,334"/>
<area shape="poly" title=" " alt="" coords="94,356,154,336,155,341,96,361"/>
<area shape="rect" href="player_8c.html#a4ec5687289d18651562957a247d20385" title="Frees dynamic allocated structures referenced by the player runtime data. rtd itself is not freed by ..." alt="" coords="348,308,435,334"/>
<area shape="poly" title=" " alt="" coords="99,365,182,357,277,344,332,332,333,338,277,349,182,362,99,370"/>
<area shape="rect" href="player_8c.html#a3762a659d4e6c34bdf73d29dd0b8dc75" title="Populates the player runtime data with dynamically allocated structures before initializing each subs..." alt="" coords="171,459,253,484"/>
<area shape="poly" title=" " alt="" coords="69,383,103,414,148,445,158,450,155,455,145,450,100,418,65,387"/>
<area shape="rect" href="player_8c.html#a30eb7f640562f5e082f537431fabfae0" title="Main loop of the player that drives the playback of the sequence. This function will block until the ..." alt="" coords="167,807,256,832"/>
<area shape="poly" title=" " alt="" coords="61,384,203,791,198,793,56,386"/>
<area shape="rect" href="putil_8c.html#ab280e2231023e7e95533aa0134fc61d9" title="If audiofp is not NULL, this function will attempt to play the audio file at the given path...." alt="" coords="147,1307,277,1332"/>
<area shape="poly" title=" " alt="" coords="58,384,208,1291,203,1292,53,385"/>
<area shape="rect" href="putil_8c.html#ab3d0be82de2dfcc8994230af517dbee9" title="Waits for the given number of seconds by blocking the current thread. LOR heartbeat messages will int..." alt="" coords="176,409,248,435"/>
<area shape="poly" title=" " alt="" coords="96,382,162,404,161,409,94,387"/>
<area shape="rect" href="seq_8c.html#a5ef6aea9ace33c3d02417d67d0d6319e" title="Reads a FSEQ header and initializes the header struct with the sequence&#39;s metadata...." alt="" coords="172,1459,252,1484"/>
<area shape="poly" title=" " alt="" coords="57,385,65,551,84,831,112,1128,130,1252,149,1344,171,1398,196,1444,191,1447,166,1401,144,1346,124,1253,107,1128,79,831,60,551,51,385"/>
<area shape="rect" href="crmap_8c.html#a4909bc64abe2fc71ea5dc6e769e9c1cb" title="Parses the given channel range map string into a linked list of struct cr_s nodes...." alt="" coords="351,56,431,82"/>
<area shape="poly" title=" " alt="" coords="227,204,361,90,365,94,231,208"/>
<area shape="poly" title=" " alt="" coords="256,217,530,218,530,223,256,222"/>
<area shape="rect" href="fc_8c.html#a5b3b2c2c573c6055e557907a7c3c19e9" title="Returns the size of the file backing the given file controller. This performs a seek to the end of th..." alt="" coords="348,157,435,183"/>
<area shape="poly" title=" " alt="" coords="256,205,332,184,333,189,257,210"/>
<area shape="poly" title=" " alt="" coords="257,230,340,254,338,259,256,235"/>
<area shape="rect" href="fc_8c.html#a567dd57b805c1d46e224bd218e9c4293" title="Reads the given number of bytes from the file controller starting at the given offset." alt="" coords="549,1459,620,1484"/>
<area shape="poly" title=" " alt="" coords="231,231,257,258,279,294,286,324,291,368,295,492,294,825,294,1000,297,1156,308,1277,316,1318,327,1343,341,1358,355,1367,385,1374,420,1378,439,1383,459,1393,483,1415,507,1437,535,1452,533,1457,504,1442,480,1419,456,1398,437,1388,419,1383,384,1380,353,1372,337,1362,323,1346,311,1319,302,1277,292,1156,288,1000,289,825,290,492,286,368,281,325,275,297,253,261,227,235"/>
<area shape="poly" title=" " alt="" coords="431,56,526,31,527,36,432,61"/>
<area shape="rect" href="crmap_8c.html#a0009bf67270c308ce93c198c5ec03350" title="Parses a single channel range map object into the given cr struct. The object is expected to have the..." alt="" coords="532,56,637,82"/>
<area shape="poly" title=" " alt="" coords="432,66,517,66,517,72,432,72"/>
<area shape="poly" title=" " alt="" coords="428,259,530,232,532,237,429,264"/>
<area shape="rect" href="cell_8c.html#a65ff64f02741fc9b0e24bf2749cdfffd" title="Frees the table and any held resources." alt="" coords="550,259,619,284"/>
<area shape="poly" title=" " alt="" coords="435,307,535,281,536,286,436,312"/>
<area shape="rect" href="pump_8c.html#a7c99ef7d16fc21de2c707fa78e86ab81" title="Frees the resources associated with the provided frame pump." alt="" coords="551,308,618,334"/>
<area shape="poly" title=" " alt="" coords="435,318,535,318,535,324,435,324"/>
<area shape="rect" href="fd_8c.html#a04dc0c764a0555ae69a945fe0531167d" title="Frees all entry nodes in the list, but does not free the list itself." alt="" coords="744,384,812,410"/>
<area shape="poly" title=" " alt="" coords="620,331,731,376,729,381,618,336"/>
<area shape="poly" title=" " alt="" coords="252,457,275,445,314,405,367,344,371,348,318,409,279,450,255,462"/>
<area shape="rect" href="cell_8c.html#a253791e070bf0f98a8fb31eab6f08f5d" title="Initializes table that maps the raw fseq sequence indexes to a known LOR unit and channel number usin..." alt="" coords="360,409,423,435"/>
<area shape="poly" title=" " alt="" coords="253,458,344,432,345,437,254,463"/>
<area shape="rect" href="pump_8c.html#ace12e3aec7ac03743a8cf3d73bb37969" title="Initializes a frame pump with the provided file controller. The pump will read frames from the file c..." alt="" coords="360,508,422,534"/>
<area shape="poly" title=" " alt="" coords="254,480,346,506,344,511,253,485"/>
<area shape="rect" href="sleep_8c.html#afd098fd42a9f3b7a5616d0d772cbdb08" title="Allocates and initializes a new sleep collector with default values." alt="" coords="352,459,430,484"/>
<area shape="poly" title=" " alt="" coords="253,469,337,469,337,474,253,474"/>
<area shape="rect" href="crmap_8c.html#a6f57342dcb3c2ed3aefb0ad1f1361b74" title="Remaps the given sequence channel index to a unit and circuit number using the channel range mapping...." alt="" coords="534,409,635,435"/>
<area shape="poly" title=" " alt="" coords="423,420,518,420,518,425,423,425"/>
<area shape="rect" href="audio_8c.html#a31ee90daccbe20571bf17f4706a8103a" title="Checks the playback status of the audio system." alt="" coords="527,1256,642,1282"/>
<area shape="poly" title=" " alt="" coords="216,833,221,892,237,981,251,1031,270,1080,295,1127,327,1168,368,1203,416,1228,466,1245,512,1257,511,1262,464,1250,414,1233,365,1207,323,1172,291,1130,266,1082,246,1032,232,983,216,893,211,833"/>
<area shape="rect" href="player_8c.html#a56fa00589840072b269070591b8c155d" title="Prints a log message summarizing the player&#39;s current state." alt="" coords="350,1132,432,1158"/>
<area shape="poly" title=" " alt="" coords="223,831,378,1117,373,1120,218,834"/>
<area shape="rect" href="player_8c.html#a0be44cb011fa97a198c60458b0761809" title="Increments the current frame index and writes the minified frame data to the serial output...." alt="" coords="326,607,456,632"/>
<area shape="poly" title=" " alt="" coords="223,805,366,642,370,646,227,808"/>
<area shape="rect" href="putil_8c.html#aecc0ea5bccde45a6f82364c2b9a38a7d" title="Turns off all lights by sending a set off effect to all LOR units." alt="" coords="343,756,439,782"/>
<area shape="poly" title=" " alt="" coords="256,804,328,784,329,789,258,810"/>
<area shape="rect" href="putil_8c.html#ad065eb627423f95e1ee6245f81c170d5" title="Encodes and writes a LOR heartbeat message to the serial port." alt="" coords="325,807,457,832"/>
<area shape="poly" title=" " alt="" coords="257,817,310,817,310,822,257,822"/>
<area shape="rect" href="sleep_8c.html#a616fde30e190c5b8198c0c4423ee707e" title="Sleeps for the given number of milliseconds using incremental sleep calls that estimate the time rema..." alt="" coords="354,933,429,959"/>
<area shape="poly" title=" " alt="" coords="233,830,361,922,357,926,230,835"/>
<area shape="rect" href="audio_8c.html#a088c9ba211c55d9a74c2cdba5f880a61" title="Stops the current audio playback, if any. The last allocated AL buffer is then detached from the sour..." alt="" coords="712,1307,845,1332"/>
<area shape="poly" title=" " alt="" coords="637,1280,713,1300,712,1305,636,1285"/>
<area shape="rect" href="audio_8c.html#ab8d211abfcf3a5272bc45db36f041ea8" title="Prints the last OpenAL error to stderr with the given message." alt="" coords="893,1307,964,1332"/>
<area shape="poly" title=" " alt="" coords="642,1268,738,1276,846,1292,879,1300,877,1305,844,1297,737,1281,642,1274"/>
<area shape="poly" title=" " alt="" coords="845,1317,878,1317,878,1322,845,1322"/>
<area shape="rect" href="pump_8c.html#a48fea78925df64034f443f952fddf680" title="Returns the number of frames remaining in the pump&#39;s internal buffer." alt="" coords="511,1108,658,1134"/>
<area shape="poly" title=" " alt="" coords="433,1137,495,1129,496,1135,433,1142"/>
<area shape="rect" href="putil_8c.html#ac34b8e816274fbd4207f4d02dfe54fed" title="Returns the seconds remaining in the sequence based on the current frame and sequence configuration p..." alt="" coords="505,1157,664,1183"/>
<area shape="poly" title=" " alt="" coords="433,1148,490,1155,489,1160,433,1153"/>
<area shape="rect" href="sleep_8c.html#ab73bd393dfeb5e2ee2fe4d110fd3e567" title="Returns the average sleep time in nanoseconds from the given sleep collector. This is calculated by s..." alt="" coords="531,1207,638,1232"/>
<area shape="poly" title=" " alt="" coords="421,1156,506,1193,523,1199,521,1204,504,1198,419,1161"/>
<area shape="rect" href="cell_8c.html#ac0fa837105dc0a8e0f6d380068ea9b11" title="Changes the output intensity for the cell at the given index. This only marks the cell as modified if..." alt="" coords="540,607,629,632"/>
<area shape="poly" title=" " alt="" coords="457,617,525,617,525,622,457,622"/>
<area shape="rect" href="cell_8c.html#a526022a61b8d3ee3772bf86e56d01b7f" title="Returns a group of linked cells starting at the given index. The group is identified by the unit numb..." alt="" coords="540,656,629,682"/>
<area shape="poly" title=" " alt="" coords="445,630,526,651,524,656,444,636"/>
<area shape="rect" href="pump_8c.html#a52ae12b729974435a410e9753a2c6bb6" title="Checks if the pump&#39;s internal buffer is low, and if so, preloads the next frame set from the file con..." alt="" coords="522,508,647,534"/>
<area shape="poly" title=" " alt="" coords="408,604,450,574,504,542,517,537,519,542,507,547,453,578,411,608"/>
<area shape="rect" href="pump_8c.html#a2b6a9a5b1d91947a2eb549b4460f7366" title="Copies the next frame of data from the pump to the provided frame data buffer. If the pump&#39;s internal..." alt="" coords="531,459,638,484"/>
<area shape="poly" title=" " alt="" coords="402,604,504,493,515,487,518,492,507,498,406,608"/>
<area shape="rect" href="putil_8c.html#a4eb13572c6a1cf5854bb058e36e20562" title="Encodes the given channel group state update to the provided message buffer as a LOR effect...." alt="" coords="529,557,640,583"/>
<area shape="poly" title=" " alt="" coords="444,603,516,585,517,590,445,609"/>
<area shape="rect" href="serial_8c.html#a420d471225d62a4cf280dfc3ef59d3f1" title="Waits for all data to be written to the serial device." alt="" coords="540,705,629,731"/>
<area shape="poly" title=" " alt="" coords="411,631,453,661,507,692,526,700,524,705,504,697,450,665,408,635"/>
<area shape="poly" title=" " alt="" coords="632,456,663,445,735,414,737,419,665,450,634,461"/>
<area shape="rect" href="serial_8c.html#a59d3d8b6bd5c63d8346079182204f30e" title="Writes the binary data to the open serial port. The data is copied to an internal buffer and written ..." alt="" coords="734,657,823,683"/>
<area shape="poly" title=" " alt="" coords="638,581,665,592,711,618,750,646,747,650,708,623,663,597,636,586"/>
<area shape="poly" title=" " alt="" coords="440,768,544,765,604,756,663,741,710,718,749,691,752,695,712,723,665,746,605,762,545,770,440,774"/>
<area shape="poly" title=" " alt="" coords="439,754,524,731,525,736,440,759"/>
<area shape="poly" title=" " alt="" coords="457,817,504,813,557,806,611,793,662,773,690,756,716,735,756,693,760,697,719,739,693,761,665,778,613,798,558,811,505,819,458,822"/>
<area shape="rect" href="sleep_8c.html#a3d2e831c98e7d09d673e3a4e9d9a3be3" title="Appends the given sleep time to the sleep collector, updating the collector&#39;s internal state...." alt="" coords="536,957,633,983"/>
<area shape="poly" title=" " alt="" coords="430,948,521,960,520,965,429,953"/>
<area shape="rect" href="sleep_8c.html#ab2391db426ae715d9758d1e14ce9fc39" title="Sleeps for the given number of nanoseconds using a spin lock. This is a blocking operation that will ..." alt="" coords="528,1007,641,1032"/>
<area shape="poly" title=" " alt="" coords="422,957,506,993,523,999,521,1004,504,998,420,962"/>
<area shape="rect" href="time_8c.html#a7289d3896393480a4d4e8cfff5ff88e9" title="Return the time elapsed from end since the start time in nanoseconds." alt="" coords="723,1007,834,1032"/>
<area shape="poly" title=" " alt="" coords="404,958,445,1002,474,1025,506,1042,534,1050,563,1055,622,1055,677,1047,725,1035,726,1040,678,1052,622,1060,562,1060,533,1056,504,1047,471,1030,441,1006,400,961"/>
<area shape="rect" href="time_8c.html#a0df3061922c6f7365103ab1d2a74d383" title="Get the current system time." alt="" coords="731,908,826,934"/>
<area shape="poly" title=" " alt="" coords="414,930,455,910,505,893,560,886,617,887,670,893,716,902,715,907,669,899,616,892,561,891,506,898,457,915,416,935"/>
<area shape="rect" href="sleep_8c.html#adf273c242d25fa04b2e3d61d4f3e539a" title="Sleeps for the given number of nanoseconds using incremental sleep calls that estimate the time remai..." alt="" coords="541,908,628,934"/>
<area shape="poly" title=" " alt="" coords="429,939,526,926,526,931,430,944"/>
<area shape="poly" title=" " alt="" coords="642,1017,707,1017,707,1022,642,1022"/>
<area shape="poly" title=" " alt="" coords="636,1004,663,993,708,968,747,941,750,945,711,972,665,998,638,1009"/>
<area shape="poly" title=" " alt="" coords="629,929,665,942,711,968,750,995,747,1000,708,973,663,947,627,934"/>
<area shape="poly" title=" " alt="" coords="628,918,715,918,715,924,628,924"/>
<area shape="rect" href="audio_8c.html#a0c9f7a75cf5e965c07b70cdde5f15cfa" title="Attempts to play the audio file at the given file path. This function initializes the audio system if..." alt="" coords="348,1307,434,1332"/>
<area shape="poly" title=" " alt="" coords="277,1317,333,1317,333,1322,277,1322"/>
<area shape="rect" href="seq_8c.html#aa46d33d98cef6abf5a1027e93ec87862" title="Retrieves the audio file path from the sequence for playback by searching the FSEQ&#39;s variable table f..." alt="" coords="328,1408,454,1434"/>
<area shape="poly" title=" " alt="" coords="235,1331,326,1387,349,1398,347,1403,324,1391,232,1335"/>
<area shape="poly" title=" " alt="" coords="434,1306,517,1284,519,1289,435,1311"/>
<area shape="poly" title=" " alt="" coords="434,1317,696,1317,696,1322,434,1322"/>
<area shape="poly" title=" " alt="" coords="425,1330,459,1349,473,1362,482,1374,491,1384,506,1393,558,1407,612,1411,666,1408,719,1399,815,1369,888,1337,890,1342,817,1374,720,1404,666,1413,612,1417,557,1412,504,1398,488,1389,478,1377,469,1366,456,1354,423,1335"/>
<area shape="rect" href="audio_8c.html#a42e1c8367745030b6c984745e79dc43e" title="Initializes the audio system if it has not been initialized yet." alt="" coords="549,1357,620,1383"/>
<area shape="poly" title=" " alt="" coords="435,1328,535,1355,534,1360,434,1333"/>
<area shape="poly" title=" " alt="" coords="444,1432,535,1456,533,1461,442,1437"/>
<area shape="poly" title=" " alt="" coords="243,406,323,378,376,365,433,355,493,351,553,354,612,368,665,395,694,419,718,449,737,482,751,518,770,586,778,641,772,642,764,587,746,519,732,485,713,452,690,423,662,399,610,373,553,359,493,356,434,360,377,370,325,384,245,411"/>
<area shape="poly" title=" " alt="" coords="252,1469,533,1469,533,1474,252,1474"/>
<area shape="rect" href="comblock_8c.html#a633e09c265a4649fecfa3a3035c953b5" title="Determines the number of compression blocks available within the given sequence file...." alt="" coords="330,1509,452,1535"/>
<area shape="poly" title=" " alt="" coords="253,1480,329,1502,328,1507,251,1485"/>
<area shape="poly" title=" " alt="" coords="442,1506,533,1482,535,1487,444,1511"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="player_8c_aaf3b0aad85ffca607bbf0daa9d634dc1_icgraph.png" border="0" usemap="#aplayer_8c_aaf3b0aad85ffca607bbf0daa9d634dc1_icgraph" alt=""/></div>
<map name="aplayer_8c_aaf3b0aad85ffca607bbf0daa9d634dc1_icgraph" id="aplayer_8c_aaf3b0aad85ffca607bbf0daa9d634dc1_icgraph">
<area shape="rect" title="Initializes and starts playback of the given playback configuration. Execution will block until the s..." alt="" coords="103,5,196,31"/>
<area shape="rect" href="main_8c.html#ad5a52bc0401ed1bc06c779de5371d560" title=" " alt="" coords="5,5,55,31"/>
<area shape="poly" title=" " alt="" coords="87,21,55,21,55,16,87,16"/>
</map>
</div>

</div>
</div>
<a id="a4ec5687289d18651562957a247d20385" name="a4ec5687289d18651562957a247d20385"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4ec5687289d18651562957a247d20385">&#9670;&#160;</a></span>Player_free()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void Player_free </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structplayer__rtd__s.html">player_rtd_s</a> *</td>          <td class="paramname"><span class="paramname"><em>rtd</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Frees dynamic allocated structures referenced by the player runtime data. <code>rtd</code> itself is not freed by this function. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rtd</td><td>player runtime data to free </td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="player_8c_a4ec5687289d18651562957a247d20385_cgraph.png" border="0" usemap="#aplayer_8c_a4ec5687289d18651562957a247d20385_cgraph" alt=""/></div>
<map name="aplayer_8c_a4ec5687289d18651562957a247d20385_cgraph" id="aplayer_8c_a4ec5687289d18651562957a247d20385_cgraph">
<area shape="rect" title="Frees dynamic allocated structures referenced by the player runtime data. rtd itself is not freed by ..." alt="" coords="5,31,93,56"/>
<area shape="rect" href="cell_8c.html#a65ff64f02741fc9b0e24bf2749cdfffd" title="Frees the table and any held resources." alt="" coords="141,5,209,31"/>
<area shape="poly" title=" " alt="" coords="93,32,125,25,126,31,94,37"/>
<area shape="rect" href="pump_8c.html#a7c99ef7d16fc21de2c707fa78e86ab81" title="Frees the resources associated with the provided frame pump." alt="" coords="141,55,208,80"/>
<area shape="poly" title=" " alt="" coords="94,49,126,56,125,61,93,54"/>
<area shape="rect" href="fd_8c.html#a04dc0c764a0555ae69a945fe0531167d" title="Frees all entry nodes in the list, but does not free the list itself." alt="" coords="257,55,325,80"/>
<area shape="poly" title=" " alt="" coords="209,65,242,65,242,70,209,70"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="player_8c_a4ec5687289d18651562957a247d20385_icgraph.png" border="0" usemap="#aplayer_8c_a4ec5687289d18651562957a247d20385_icgraph" alt=""/></div>
<map name="aplayer_8c_a4ec5687289d18651562957a247d20385_icgraph" id="aplayer_8c_a4ec5687289d18651562957a247d20385_icgraph">
<area shape="rect" title="Frees dynamic allocated structures referenced by the player runtime data. rtd itself is not freed by ..." alt="" coords="374,5,462,31"/>
<area shape="rect" href="player_8c.html#aaf3b0aad85ffca607bbf0daa9d634dc1" title="Initializes and starts playback of the given playback configuration. Execution will block until the s..." alt="" coords="103,5,196,31"/>
<area shape="poly" title=" " alt="" coords="359,21,196,21,196,16,359,16"/>
<area shape="rect" href="player_8c.html#a3762a659d4e6c34bdf73d29dd0b8dc75" title="Populates the player runtime data with dynamically allocated structures before initializing each subs..." alt="" coords="244,31,326,56"/>
<area shape="poly" title=" " alt="" coords="359,32,327,38,326,33,358,27"/>
<area shape="rect" href="main_8c.html#ad5a52bc0401ed1bc06c779de5371d560" title=" " alt="" coords="5,5,55,31"/>
<area shape="poly" title=" " alt="" coords="87,21,55,21,55,16,87,16"/>
<area shape="poly" title=" " alt="" coords="228,36,196,29,197,24,229,30"/>
</map>
</div>

</div>
</div>
<a id="a3762a659d4e6c34bdf73d29dd0b8dc75" name="a3762a659d4e6c34bdf73d29dd0b8dc75"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3762a659d4e6c34bdf73d29dd0b8dc75">&#9670;&#160;</a></span>Player_init()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int Player_init </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="struct_f_c.html">FC</a> *</td>          <td class="paramname"><span class="paramname"><em>fc</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcr__s.html">cr_s</a> *</td>          <td class="paramname"><span class="paramname"><em>cmap</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structplayer__rtd__s.html">player_rtd_s</a> *</td>          <td class="paramname"><span class="paramname"><em>rtd</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Populates the player runtime data with dynamically allocated structures before initializing each subsystem. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fc</td><td>sequence file controller to read from </td></tr>
    <tr><td class="paramname">cmap</td><td>channel map to use for index lookups </td></tr>
    <tr><td class="paramname">rtd</td><td>player runtime data to populate </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, a negative error code on failure </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="player_8c_a3762a659d4e6c34bdf73d29dd0b8dc75_cgraph.png" border="0" usemap="#aplayer_8c_a3762a659d4e6c34bdf73d29dd0b8dc75_cgraph" alt=""/></div>
<map name="aplayer_8c_a3762a659d4e6c34bdf73d29dd0b8dc75_cgraph" id="aplayer_8c_a3762a659d4e6c34bdf73d29dd0b8dc75_cgraph">
<area shape="rect" title="Populates the player runtime data with dynamically allocated structures before initializing each subs..." alt="" coords="5,80,88,106"/>
<area shape="rect" href="cell_8c.html#a253791e070bf0f98a8fb31eab6f08f5d" title="Initializes table that maps the raw fseq sequence indexes to a known LOR unit and channel number usin..." alt="" coords="148,5,211,31"/>
<area shape="poly" title=" " alt="" coords="70,77,134,40,140,37,143,41,137,44,72,82"/>
<area shape="rect" href="pump_8c.html#ace12e3aec7ac03743a8cf3d73bb37969" title="Initializes a frame pump with the provided file controller. The pump will read frames from the file c..." alt="" coords="148,55,210,80"/>
<area shape="poly" title=" " alt="" coords="88,82,132,74,133,79,89,88"/>
<area shape="rect" href="player_8c.html#a4ec5687289d18651562957a247d20385" title="Frees dynamic allocated structures referenced by the player runtime data. rtd itself is not freed by ..." alt="" coords="136,104,223,130"/>
<area shape="poly" title=" " alt="" coords="89,98,121,104,120,109,88,103"/>
<area shape="rect" href="sleep_8c.html#afd098fd42a9f3b7a5616d0d772cbdb08" title="Allocates and initializes a new sleep collector with default values." alt="" coords="140,153,218,179"/>
<area shape="poly" title=" " alt="" coords="73,104,143,143,140,148,70,109"/>
<area shape="rect" href="crmap_8c.html#a6f57342dcb3c2ed3aefb0ad1f1361b74" title="Remaps the given sequence channel index to a unit and circuit number using the channel range mapping...." alt="" coords="271,5,372,31"/>
<area shape="poly" title=" " alt="" coords="212,16,256,16,256,21,212,21"/>
<area shape="rect" href="cell_8c.html#a65ff64f02741fc9b0e24bf2749cdfffd" title="Frees the table and any held resources." alt="" coords="288,79,356,104"/>
<area shape="poly" title=" " alt="" coords="223,106,272,98,273,103,224,112"/>
<area shape="rect" href="pump_8c.html#a7c99ef7d16fc21de2c707fa78e86ab81" title="Frees the resources associated with the provided frame pump." alt="" coords="288,128,355,154"/>
<area shape="poly" title=" " alt="" coords="224,122,273,130,272,135,223,127"/>
<area shape="rect" href="fd_8c.html#a04dc0c764a0555ae69a945fe0531167d" title="Frees all entry nodes in the list, but does not free the list itself." alt="" coords="420,128,489,154"/>
<area shape="poly" title=" " alt="" coords="356,138,405,138,405,144,356,144"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="player_8c_a3762a659d4e6c34bdf73d29dd0b8dc75_icgraph.png" border="0" usemap="#aplayer_8c_a3762a659d4e6c34bdf73d29dd0b8dc75_icgraph" alt=""/></div>
<map name="aplayer_8c_a3762a659d4e6c34bdf73d29dd0b8dc75_icgraph" id="aplayer_8c_a3762a659d4e6c34bdf73d29dd0b8dc75_icgraph">
<area shape="rect" title="Populates the player runtime data with dynamically allocated structures before initializing each subs..." alt="" coords="244,5,326,31"/>
<area shape="rect" href="player_8c.html#aaf3b0aad85ffca607bbf0daa9d634dc1" title="Initializes and starts playback of the given playback configuration. Execution will block until the s..." alt="" coords="103,5,196,31"/>
<area shape="poly" title=" " alt="" coords="228,21,196,21,196,16,228,16"/>
<area shape="rect" href="main_8c.html#ad5a52bc0401ed1bc06c779de5371d560" title=" " alt="" coords="5,5,55,31"/>
<area shape="poly" title=" " alt="" coords="87,21,55,21,55,16,87,16"/>
</map>
</div>

</div>
</div>
<a id="a56fa00589840072b269070591b8c155d" name="a56fa00589840072b269070591b8c155d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a56fa00589840072b269070591b8c155d">&#9670;&#160;</a></span>Player_log()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void Player_log </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structplayer__rtd__s.html">player_rtd_s</a> *</td>          <td class="paramname"><span class="paramname"><em>rtd</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Prints a log message summarizing the player's current state. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rtd</td><td>player runtime data to log </td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="player_8c_a56fa00589840072b269070591b8c155d_cgraph.png" border="0" usemap="#aplayer_8c_a56fa00589840072b269070591b8c155d_cgraph" alt=""/></div>
<map name="aplayer_8c_a56fa00589840072b269070591b8c155d_cgraph" id="aplayer_8c_a56fa00589840072b269070591b8c155d_cgraph">
<area shape="rect" title="Prints a log message summarizing the player&#39;s current state." alt="" coords="5,55,88,80"/>
<area shape="rect" href="pump_8c.html#a48fea78925df64034f443f952fddf680" title="Returns the number of frames remaining in the pump&#39;s internal buffer." alt="" coords="141,5,288,31"/>
<area shape="poly" title=" " alt="" coords="87,53,153,33,155,38,89,58"/>
<area shape="rect" href="putil_8c.html#ac34b8e816274fbd4207f4d02dfe54fed" title="Returns the seconds remaining in the sequence based on the current frame and sequence configuration p..." alt="" coords="136,55,294,80"/>
<area shape="poly" title=" " alt="" coords="88,65,120,65,120,70,88,70"/>
<area shape="rect" href="sleep_8c.html#ab73bd393dfeb5e2ee2fe4d110fd3e567" title="Returns the average sleep time in nanoseconds from the given sleep collector. This is calculated by s..." alt="" coords="161,104,268,130"/>
<area shape="poly" title=" " alt="" coords="89,77,155,97,153,102,87,82"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="player_8c_a56fa00589840072b269070591b8c155d_icgraph.png" border="0" usemap="#aplayer_8c_a56fa00589840072b269070591b8c155d_icgraph" alt=""/></div>
<map name="aplayer_8c_a56fa00589840072b269070591b8c155d_icgraph" id="aplayer_8c_a56fa00589840072b269070591b8c155d_icgraph">
<area shape="rect" title="Prints a log message summarizing the player&#39;s current state." alt="" coords="381,5,464,31"/>
<area shape="rect" href="player_8c.html#a30eb7f640562f5e082f537431fabfae0" title="Main loop of the player that drives the playback of the sequence. This function will block until the ..." alt="" coords="244,5,333,31"/>
<area shape="poly" title=" " alt="" coords="366,21,334,21,334,16,366,16"/>
<area shape="rect" href="player_8c.html#aaf3b0aad85ffca607bbf0daa9d634dc1" title="Initializes and starts playback of the given playback configuration. Execution will block until the s..." alt="" coords="103,5,196,31"/>
<area shape="poly" title=" " alt="" coords="228,21,196,21,196,16,228,16"/>
<area shape="rect" href="main_8c.html#ad5a52bc0401ed1bc06c779de5371d560" title=" " alt="" coords="5,5,55,31"/>
<area shape="poly" title=" " alt="" coords="87,21,55,21,55,16,87,16"/>
</map>
</div>

</div>
</div>
<a id="a30eb7f640562f5e082f537431fabfae0" name="a30eb7f640562f5e082f537431fabfae0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a30eb7f640562f5e082f537431fabfae0">&#9670;&#160;</a></span>Player_loop()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int Player_loop </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structplayer__rtd__s.html">player_rtd_s</a> *</td>          <td class="paramname"><span class="paramname"><em>rtd</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structserialdev__s.html">serialdev_s</a> *</td>          <td class="paramname"><span class="paramname"><em>sdev</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Main loop of the player that drives the playback of the sequence. This function will block until the sequence is complete, writing frame data to the serial output and logging the player's current state. A heartbeat message is sent every ~500ms to ensure the connection is maintained. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rtd</td><td>initialized player runtime data </td></tr>
    <tr><td class="paramname">sdev</td><td>serial device to write frame data to </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, a negative error code on failure </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="player_8c_a30eb7f640562f5e082f537431fabfae0_cgraph.png" border="0" usemap="#aplayer_8c_a30eb7f640562f5e082f537431fabfae0_cgraph" alt=""/></div>
<map name="aplayer_8c_a30eb7f640562f5e082f537431fabfae0_cgraph" id="aplayer_8c_a30eb7f640562f5e082f537431fabfae0_cgraph">
<area shape="rect" title="Main loop of the player that drives the playback of the sequence. This function will block until the ..." alt="" coords="5,428,95,454"/>
<area shape="rect" href="audio_8c.html#a31ee90daccbe20571bf17f4706a8103a" title="Checks the playback status of the audio system." alt="" coords="152,31,266,56"/>
<area shape="poly" title=" " alt="" coords="51,427,81,308,107,224,140,141,162,101,186,67,190,70,167,104,145,143,112,226,86,309,57,428"/>
<area shape="rect" href="player_8c.html#a56fa00589840072b269070591b8c155d" title="Prints a log message summarizing the player&#39;s current state." alt="" coords="168,155,250,180"/>
<area shape="poly" title=" " alt="" coords="57,426,190,192,195,195,61,429"/>
<area shape="rect" href="player_8c.html#a0be44cb011fa97a198c60458b0761809" title="Increments the current frame index and writes the minified frame data to the serial output...." alt="" coords="144,377,274,403"/>
<area shape="poly" title=" " alt="" coords="92,425,151,406,153,411,94,430"/>
<area shape="rect" href="putil_8c.html#aecc0ea5bccde45a6f82364c2b9a38a7d" title="Turns off all lights by sending a set off effect to all LOR units." alt="" coords="161,477,257,503"/>
<area shape="poly" title=" " alt="" coords="95,452,151,470,150,475,93,457"/>
<area shape="rect" href="putil_8c.html#ad065eb627423f95e1ee6245f81c170d5" title="Encodes and writes a LOR heartbeat message to the serial port." alt="" coords="143,553,275,579"/>
<area shape="poly" title=" " alt="" coords="69,452,144,513,180,542,177,546,141,518,66,456"/>
<area shape="rect" href="sleep_8c.html#a616fde30e190c5b8198c0c4423ee707e" title="Sleeps for the given number of milliseconds using incremental sleep calls that estimate the time rema..." alt="" coords="171,704,246,730"/>
<area shape="poly" title=" " alt="" coords="61,453,195,689,190,692,57,455"/>
<area shape="rect" href="audio_8c.html#a088c9ba211c55d9a74c2cdba5f880a61" title="Stops the current audio playback, if any. The last allocated AL buffer is then detached from the sour..." alt="" coords="336,31,469,56"/>
<area shape="poly" title=" " alt="" coords="266,41,320,41,320,46,266,46"/>
<area shape="rect" href="audio_8c.html#ab8d211abfcf3a5272bc45db36f041ea8" title="Prints the last OpenAL error to stderr with the given message." alt="" coords="552,5,624,31"/>
<area shape="poly" title=" " alt="" coords="259,27,323,16,438,10,537,12,537,18,438,15,323,21,260,33"/>
<area shape="poly" title=" " alt="" coords="469,32,536,22,537,28,469,37"/>
<area shape="rect" href="pump_8c.html#a48fea78925df64034f443f952fddf680" title="Returns the number of frames remaining in the pump&#39;s internal buffer." alt="" coords="328,80,476,106"/>
<area shape="poly" title=" " alt="" coords="237,152,322,114,339,108,341,113,324,119,239,156"/>
<area shape="rect" href="putil_8c.html#ac34b8e816274fbd4207f4d02dfe54fed" title="Returns the seconds remaining in the sequence based on the current frame and sequence configuration p..." alt="" coords="323,129,481,155"/>
<area shape="poly" title=" " alt="" coords="250,159,307,152,308,157,251,165"/>
<area shape="rect" href="sleep_8c.html#ab73bd393dfeb5e2ee2fe4d110fd3e567" title="Returns the average sleep time in nanoseconds from the given sleep collector. This is calculated by s..." alt="" coords="348,179,456,204"/>
<area shape="poly" title=" " alt="" coords="251,170,334,180,333,186,250,175"/>
<area shape="rect" href="cell_8c.html#ac0fa837105dc0a8e0f6d380068ea9b11" title="Changes the output intensity for the cell at the given index. This only marks the cell as modified if..." alt="" coords="358,277,446,303"/>
<area shape="poly" title=" " alt="" coords="225,375,267,344,322,312,342,303,344,308,324,317,270,348,228,379"/>
<area shape="rect" href="cell_8c.html#a526022a61b8d3ee3772bf86e56d01b7f" title="Returns a group of linked cells starting at the given index. The group is identified by the unit numb..." alt="" coords="358,228,447,254"/>
<area shape="poly" title=" " alt="" coords="216,375,257,321,287,290,322,263,342,252,344,257,324,267,291,294,261,325,221,379"/>
<area shape="rect" href="pump_8c.html#a52ae12b729974435a410e9753a2c6bb6" title="Checks if the pump&#39;s internal buffer is low, and if so, preloads the next frame set from the file con..." alt="" coords="340,327,464,352"/>
<area shape="poly" title=" " alt="" coords="260,374,335,354,337,359,261,379"/>
<area shape="rect" href="pump_8c.html#a2b6a9a5b1d91947a2eb549b4460f7366" title="Copies the next frame of data from the pump to the provided frame data buffer. If the pump&#39;s internal..." alt="" coords="534,377,642,403"/>
<area shape="poly" title=" " alt="" coords="274,388,519,388,519,393,274,393"/>
<area shape="rect" href="putil_8c.html#a4eb13572c6a1cf5854bb058e36e20562" title="Encodes the given channel group state update to the provided message buffer as a LOR effect...." alt="" coords="347,428,457,454"/>
<area shape="poly" title=" " alt="" coords="261,401,337,421,335,426,260,406"/>
<area shape="rect" href="serial_8c.html#a420d471225d62a4cf280dfc3ef59d3f1" title="Waits for all data to be written to the serial device." alt="" coords="358,477,447,503"/>
<area shape="poly" title=" " alt="" coords="228,401,270,432,324,464,344,472,342,477,322,469,267,437,225,406"/>
<area shape="rect" href="cell_8c.html#a12bdfffb6ccdb4a8f6e2990536c4f242" title="Finds all cells in the table that match the provided reference cell. The reference cell must be valid..." alt="" coords="529,176,647,202"/>
<area shape="poly" title=" " alt="" coords="447,226,524,204,526,209,448,231"/>
<area shape="rect" href="cell_8c.html#a1dd10c5cc02001ce37b42f6d32d71347" title="Checks if two cells match, which indicates they are addressed to the same hardware controller (unit+s..." alt="" coords="710,125,806,151"/>
<area shape="poly" title=" " alt="" coords="633,173,698,153,699,158,634,178"/>
<area shape="rect" href="pump_8c.html#a41c6c4a221b68550e0b0ad6fbf0fd1ce" title=" " alt="" coords="547,276,629,302"/>
<area shape="poly" title=" " alt="" coords="451,323,532,301,533,306,453,329"/>
<area shape="rect" href="fd_8c.html#a04dc0c764a0555ae69a945fe0531167d" title="Frees all entry nodes in the list, but does not free the list itself." alt="" coords="1280,273,1348,299"/>
<area shape="poly" title=" " alt="" coords="629,281,737,270,869,261,980,260,1090,264,1264,278,1264,283,1090,269,980,265,869,266,737,276,629,287"/>
<area shape="rect" href="pump_8c.html#a0264c0768947899db76d3ab1ce394f95" title="Reads the next frame set from the file controller and stores it in the provided frame data node point..." alt="" coords="723,301,793,327"/>
<area shape="poly" title=" " alt="" coords="629,292,707,304,707,309,629,297"/>
<area shape="rect" href="errcode_8c.html#aa8f97434516ad3fd89df7d8d239d4927" title="Returns the error message string for the given error code." alt="" coords="715,175,801,200"/>
<area shape="poly" title=" " alt="" coords="607,273,693,217,714,205,717,210,696,222,610,278"/>
<area shape="rect" href="comblock_8c.html#aa718f4faf13580abe13ffdba68e8d81c" title="Reads the given compression block (by index) from the given file controller and decompresses it (if s..." alt="" coords="869,276,983,302"/>
<area shape="poly" title=" " alt="" coords="793,306,853,297,854,302,794,312"/>
<area shape="rect" href="pump_8c.html#ae3e1163b243cb1bf5d8175efcff04362" title="Reads the next frame set from the file controller and stores it in the provided frame data node point..." alt="" coords="1055,300,1148,326"/>
<area shape="poly" title=" " alt="" coords="793,312,983,312,1039,311,1039,316,983,317,793,317"/>
<area shape="rect" href="comblock_8c.html#abaf2a087d477ec548fe50d7815089279" title="Reads the given compression block (by index) from the given file controller and decompresses it using..." alt="" coords="1031,175,1172,200"/>
<area shape="poly" title=" " alt="" coords="949,273,1063,206,1066,211,952,278"/>
<area shape="poly" title=" " alt="" coords="1138,199,1173,217,1197,240,1207,250,1221,260,1265,276,1263,281,1218,265,1203,254,1193,244,1170,222,1136,203"/>
<area shape="rect" href="comblock_8c.html#a184922fb41719bd272b55c1402a9e7de" title="Calculates the absolute address of the given compression block index and its encoded size." alt="" coords="1220,175,1408,200"/>
<area shape="poly" title=" " alt="" coords="1172,185,1204,185,1204,190,1172,190"/>
<area shape="rect" href="fc_8c.html#a567dd57b805c1d46e224bd218e9c4293" title="Reads the given number of bytes from the file controller starting at the given offset." alt="" coords="1456,149,1527,175"/>
<area shape="poly" title=" " alt="" coords="1153,171,1219,160,1338,154,1441,156,1440,162,1339,159,1220,165,1154,177"/>
<area shape="rect" href="fd_8c.html#a0adfd6501d174720db95b64d706ac476" title="Appends a new frame data block to the end of the list. The frame data provided is not copied,..." alt="" coords="1270,224,1358,250"/>
<area shape="poly" title=" " alt="" coords="1161,198,1255,221,1254,226,1160,204"/>
<area shape="poly" title=" " alt="" coords="1408,171,1440,167,1441,172,1409,177"/>
<area shape="poly" title=" " alt="" coords="1148,304,1264,290,1265,295,1149,310"/>
<area shape="poly" title=" " alt="" coords="1129,297,1219,258,1253,248,1255,253,1221,263,1131,302"/>
<area shape="rect" href="fc_8c.html#a479c14c40649932a98343269452e6111" title="Reads up to the given number of bytes from the file controller starting at the given offset,..." alt="" coords="1273,323,1355,348"/>
<area shape="poly" title=" " alt="" coords="1149,315,1257,327,1257,332,1148,320"/>
<area shape="poly" title=" " alt="" coords="642,390,742,392,875,387,1024,370,1099,355,1171,336,1195,323,1219,308,1264,293,1265,298,1221,313,1197,327,1173,341,1100,360,1025,375,876,392,743,397,642,396"/>
<area shape="poly" title=" " alt="" coords="618,374,712,331,715,336,620,379"/>
<area shape="rect" href="fd_8c.html#a090f54adf1443ed24378fe4f6e5e3c51" title="Returns the first node in the list and removes it for consumption by the caller. The caller is respon..." alt="" coords="722,428,794,454"/>
<area shape="poly" title=" " alt="" coords="634,401,708,423,707,429,633,406"/>
<area shape="rect" href="serial_8c.html#a59d3d8b6bd5c63d8346079182204f30e" title="Writes the binary data to the open serial port. The data is copied to an internal buffer and written ..." alt="" coords="543,529,633,555"/>
<area shape="poly" title=" " alt="" coords="457,452,483,462,526,489,562,517,559,521,523,493,480,467,455,457"/>
<area shape="rect" href="serial_8c.html#a4ff646f526789549fa410a488a47abae" title="Writes the binary data to the &quot;real&quot; opened serial port handle within the virtual serial device struc..." alt="" coords="700,579,816,604"/>
<area shape="poly" title=" " alt="" coords="634,553,698,571,696,576,632,558"/>
<area shape="rect" href="serial_8c.html#a1375dc381934802544fa63f692f1d782" title="Writes the binary data to the virtual file handle within the virtual serial device structure." alt="" coords="695,529,821,555"/>
<area shape="poly" title=" " alt="" coords="633,540,679,540,679,545,633,545"/>
<area shape="rect" href="serial_8c.html#a706542c2b6ac4b13b60019221d8972ee" title="Prints an error message to stderr for the given error code, including the libserialport error message..." alt="" coords="869,528,983,554"/>
<area shape="poly" title=" " alt="" coords="802,576,866,556,868,561,804,581"/>
<area shape="poly" title=" " alt="" coords="447,488,612,494,716,502,821,514,860,521,859,527,821,519,716,507,612,499,447,493"/>
<area shape="poly" title=" " alt="" coords="258,499,323,513,432,527,528,536,528,541,431,532,323,518,257,505"/>
<area shape="poly" title=" " alt="" coords="257,488,342,488,342,493,257,493"/>
<area shape="poly" title=" " alt="" coords="275,564,373,563,481,557,528,551,528,556,482,562,373,568,276,570"/>
<area shape="rect" href="sleep_8c.html#a3d2e831c98e7d09d673e3a4e9d9a3be3" title="Appends the given sleep time to the sleep collector, updating the collector&#39;s internal state...." alt="" coords="354,680,451,706"/>
<area shape="poly" title=" " alt="" coords="247,710,338,698,338,703,247,715"/>
<area shape="rect" href="sleep_8c.html#ab2391db426ae715d9758d1e14ce9fc39" title="Sleeps for the given number of nanoseconds using a spin lock. This is a blocking operation that will ..." alt="" coords="346,729,459,755"/>
<area shape="poly" title=" " alt="" coords="247,719,331,730,330,735,247,724"/>
<area shape="rect" href="time_8c.html#a7289d3896393480a4d4e8cfff5ff88e9" title="Return the time elapsed from end since the start time in nanoseconds." alt="" coords="533,729,643,755"/>
<area shape="poly" title=" " alt="" coords="232,701,273,681,322,665,367,656,403,651,438,654,482,665,528,688,565,717,561,721,525,692,480,670,438,659,403,657,368,661,324,670,275,686,234,706"/>
<area shape="rect" href="time_8c.html#a0df3061922c6f7365103ab1d2a74d383" title="Get the current system time." alt="" coords="541,828,635,854"/>
<area shape="poly" title=" " alt="" coords="222,728,263,773,292,796,324,814,375,831,428,840,479,843,525,843,525,848,479,849,427,845,374,836,322,819,289,800,260,777,218,732"/>
<area shape="rect" href="sleep_8c.html#adf273c242d25fa04b2e3d61d4f3e539a" title="Sleeps for the given number of nanoseconds using incremental sleep calls that estimate the time remai..." alt="" coords="359,779,445,804"/>
<area shape="poly" title=" " alt="" coords="239,728,324,765,345,772,343,777,322,770,237,733"/>
<area shape="poly" title=" " alt="" coords="459,740,517,740,517,745,459,745"/>
<area shape="poly" title=" " alt="" coords="461,753,483,764,498,777,508,789,517,802,531,815,536,818,534,823,528,819,513,806,503,793,494,780,480,768,458,758"/>
<area shape="poly" title=" " alt="" coords="445,777,521,757,522,762,447,783"/>
<area shape="poly" title=" " alt="" coords="447,800,527,822,525,827,445,806"/>
<area shape="rect" href="sleep_8c.html#aa1f93b05367399c7c43b3b6b7acefaeb" title="Sleeps for one millisecond using the system&#39;s equivalent sleep function. This is used to provide a ba..." alt="" coords="535,779,641,804"/>
<area shape="poly" title=" " alt="" coords="446,789,520,789,520,794,446,794"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="player_8c_a30eb7f640562f5e082f537431fabfae0_icgraph.png" border="0" usemap="#aplayer_8c_a30eb7f640562f5e082f537431fabfae0_icgraph" alt=""/></div>
<map name="aplayer_8c_a30eb7f640562f5e082f537431fabfae0_icgraph" id="aplayer_8c_a30eb7f640562f5e082f537431fabfae0_icgraph">
<area shape="rect" title="Main loop of the player that drives the playback of the sequence. This function will block until the ..." alt="" coords="244,5,333,31"/>
<area shape="rect" href="player_8c.html#aaf3b0aad85ffca607bbf0daa9d634dc1" title="Initializes and starts playback of the given playback configuration. Execution will block until the s..." alt="" coords="103,5,196,31"/>
<area shape="poly" title=" " alt="" coords="228,21,196,21,196,16,228,16"/>
<area shape="rect" href="main_8c.html#ad5a52bc0401ed1bc06c779de5371d560" title=" " alt="" coords="5,5,55,31"/>
<area shape="poly" title=" " alt="" coords="87,21,55,21,55,16,87,16"/>
</map>
</div>

</div>
</div>
<a id="a0be44cb011fa97a198c60458b0761809" name="a0be44cb011fa97a198c60458b0761809"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0be44cb011fa97a198c60458b0761809">&#9670;&#160;</a></span>Player_writeFrame()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int Player_writeFrame </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structplayer__rtd__s.html">player_rtd_s</a> *</td>          <td class="paramname"><span class="paramname"><em>rtd</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structserialdev__s.html">serialdev_s</a> *</td>          <td class="paramname"><span class="paramname"><em>sdev</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Increments the current frame index and writes the minified frame data to the serial output. This function drives the core functionality of the player. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rtd</td><td>player runtime data to write the next frame from </td></tr>
    <tr><td class="paramname">sdev</td><td>serial device to write the frame data to </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, a negative error code on failure </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="player_8c_a0be44cb011fa97a198c60458b0761809_cgraph.png" border="0" usemap="#aplayer_8c_a0be44cb011fa97a198c60458b0761809_cgraph" alt=""/></div>
<map name="aplayer_8c_a0be44cb011fa97a198c60458b0761809_cgraph" id="aplayer_8c_a0be44cb011fa97a198c60458b0761809_cgraph">
<area shape="rect" title="Increments the current frame index and writes the minified frame data to the serial output...." alt="" coords="5,205,136,231"/>
<area shape="rect" href="cell_8c.html#ac0fa837105dc0a8e0f6d380068ea9b11" title="Changes the output intensity for the cell at the given index. This only marks the cell as modified if..." alt="" coords="202,80,290,106"/>
<area shape="poly" title=" " alt="" coords="81,203,123,161,182,115,190,110,193,115,185,119,127,165,85,207"/>
<area shape="rect" href="cell_8c.html#a526022a61b8d3ee3772bf86e56d01b7f" title="Returns a group of linked cells starting at the given index. The group is identified by the unit numb..." alt="" coords="201,129,290,155"/>
<area shape="poly" title=" " alt="" coords="101,202,199,159,202,164,103,207"/>
<area shape="rect" href="pump_8c.html#a52ae12b729974435a410e9753a2c6bb6" title="Checks if the pump&#39;s internal buffer is low, and if so, preloads the next frame set from the file con..." alt="" coords="184,231,308,256"/>
<area shape="poly" title=" " alt="" coords="137,225,169,230,168,235,136,230"/>
<area shape="rect" href="pump_8c.html#a2b6a9a5b1d91947a2eb549b4460f7366" title="Copies the next frame of data from the pump to the provided frame data buffer. If the pump&#39;s internal..." alt="" coords="361,180,468,206"/>
<area shape="poly" title=" " alt="" coords="136,211,345,195,346,201,136,216"/>
<area shape="rect" href="putil_8c.html#a4eb13572c6a1cf5854bb058e36e20562" title="Encodes the given channel group state update to the provided message buffer as a LOR effect...." alt="" coords="191,305,301,331"/>
<area shape="poly" title=" " alt="" coords="96,229,210,295,207,300,94,234"/>
<area shape="rect" href="serial_8c.html#a420d471225d62a4cf280dfc3ef59d3f1" title="Waits for all data to be written to the serial device." alt="" coords="370,420,459,446"/>
<area shape="poly" title=" " alt="" coords="83,230,123,283,152,314,185,341,227,366,272,387,356,416,354,421,270,392,225,371,182,346,149,318,119,287,78,233"/>
<area shape="rect" href="cell_8c.html#a12bdfffb6ccdb4a8f6e2990536c4f242" title="Finds all cells in the table that match the provided reference cell. The reference cell must be valid..." alt="" coords="356,80,473,106"/>
<area shape="poly" title=" " alt="" coords="290,127,353,108,354,113,292,132"/>
<area shape="rect" href="cell_8c.html#a1dd10c5cc02001ce37b42f6d32d71347" title="Checks if two cells match, which indicates they are addressed to the same hardware controller (unit+s..." alt="" coords="536,31,633,56"/>
<area shape="poly" title=" " alt="" coords="461,77,522,59,524,64,462,82"/>
<area shape="rect" href="pump_8c.html#a41c6c4a221b68550e0b0ad6fbf0fd1ce" title=" " alt="" coords="374,231,455,256"/>
<area shape="poly" title=" " alt="" coords="309,241,358,241,358,246,309,246"/>
<area shape="rect" href="fd_8c.html#a04dc0c764a0555ae69a945fe0531167d" title="Frees all entry nodes in the list, but does not free the list itself." alt="" coords="1106,129,1175,155"/>
<area shape="poly" title=" " alt="" coords="456,253,522,266,584,271,647,266,748,256,826,244,902,225,997,192,1021,178,1045,164,1090,149,1092,154,1047,169,1024,183,999,197,904,230,827,249,749,261,648,271,584,276,521,271,455,258"/>
<area shape="rect" href="pump_8c.html#a0264c0768947899db76d3ab1ce394f95" title="Reads the next frame set from the file controller and stores it in the provided frame data node point..." alt="" coords="549,181,620,207"/>
<area shape="poly" title=" " alt="" coords="455,229,534,206,535,211,456,234"/>
<area shape="rect" href="errcode_8c.html#aa8f97434516ad3fd89df7d8d239d4927" title="Returns the error message string for the given error code." alt="" coords="541,231,628,256"/>
<area shape="poly" title=" " alt="" coords="456,241,526,241,526,246,456,246"/>
<area shape="rect" href="comblock_8c.html#aa718f4faf13580abe13ffdba68e8d81c" title="Reads the given compression block (by index) from the given file controller and decompresses it (if s..." alt="" coords="696,132,810,158"/>
<area shape="poly" title=" " alt="" coords="619,181,691,160,693,165,621,187"/>
<area shape="rect" href="pump_8c.html#ae3e1163b243cb1bf5d8175efcff04362" title="Reads the next frame set from the file controller and stores it in the provided frame data node point..." alt="" coords="882,156,975,182"/>
<area shape="poly" title=" " alt="" coords="620,189,866,171,866,176,620,194"/>
<area shape="rect" href="comblock_8c.html#abaf2a087d477ec548fe50d7815089279" title="Reads the given compression block (by index) from the given file controller and decompresses it using..." alt="" coords="858,31,998,56"/>
<area shape="poly" title=" " alt="" coords="776,129,890,62,893,67,778,134"/>
<area shape="poly" title=" " alt="" coords="965,55,1000,73,1024,96,1033,106,1048,116,1092,132,1090,137,1045,121,1030,110,1020,100,997,78,962,59"/>
<area shape="rect" href="comblock_8c.html#a184922fb41719bd272b55c1402a9e7de" title="Calculates the absolute address of the given compression block index and its encoded size." alt="" coords="1046,31,1235,56"/>
<area shape="poly" title=" " alt="" coords="999,41,1030,41,1030,46,999,46"/>
<area shape="rect" href="fc_8c.html#a567dd57b805c1d46e224bd218e9c4293" title="Reads the given number of bytes from the file controller starting at the given offset." alt="" coords="1283,5,1354,31"/>
<area shape="poly" title=" " alt="" coords="980,27,1046,16,1165,10,1267,12,1267,18,1165,15,1047,21,981,33"/>
<area shape="rect" href="fd_8c.html#a0adfd6501d174720db95b64d706ac476" title="Appends a new frame data block to the end of the list. The frame data provided is not copied,..." alt="" coords="1096,80,1185,106"/>
<area shape="poly" title=" " alt="" coords="987,54,1082,77,1081,82,986,60"/>
<area shape="poly" title=" " alt="" coords="1235,27,1267,23,1268,28,1235,33"/>
<area shape="poly" title=" " alt="" coords="975,160,1091,146,1091,151,975,166"/>
<area shape="poly" title=" " alt="" coords="955,153,1045,114,1080,104,1082,109,1047,119,957,158"/>
<area shape="rect" href="fc_8c.html#a479c14c40649932a98343269452e6111" title="Reads up to the given number of bytes from the file controller starting at the given offset,..." alt="" coords="1099,179,1182,204"/>
<area shape="poly" title=" " alt="" coords="975,171,1084,183,1084,188,975,176"/>
<area shape="poly" title=" " alt="" coords="427,178,466,145,492,129,520,117,600,98,681,88,764,85,844,89,987,106,1092,127,1091,132,986,111,843,94,764,91,682,93,601,103,522,122,495,134,469,150,431,182"/>
<area shape="poly" title=" " alt="" coords="469,191,534,191,534,196,469,196"/>
<area shape="rect" href="fd_8c.html#a090f54adf1443ed24378fe4f6e5e3c51" title="Returns the first node in the list and removes it for consumption by the caller. The caller is respon..." alt="" coords="549,132,620,158"/>
<area shape="poly" title=" " alt="" coords="462,177,533,157,534,162,464,182"/>
<area shape="rect" href="serial_8c.html#a59d3d8b6bd5c63d8346079182204f30e" title="Writes the binary data to the open serial port. The data is copied to an internal buffer and written ..." alt="" coords="370,332,459,358"/>
<area shape="poly" title=" " alt="" coords="302,324,355,333,355,338,301,330"/>
<area shape="rect" href="serial_8c.html#a4ff646f526789549fa410a488a47abae" title="Writes the binary data to the &quot;real&quot; opened serial port handle within the virtual serial device struc..." alt="" coords="526,332,643,358"/>
<area shape="poly" title=" " alt="" coords="460,342,511,342,511,348,460,348"/>
<area shape="rect" href="serial_8c.html#a1375dc381934802544fa63f692f1d782" title="Writes the binary data to the virtual file handle within the virtual serial device structure." alt="" coords="521,381,648,407"/>
<area shape="poly" title=" " alt="" coords="461,355,524,374,523,379,459,360"/>
<area shape="rect" href="serial_8c.html#a706542c2b6ac4b13b60019221d8972ee" title="Prints an error message to stderr for the given error code, including the libserialport error message..." alt="" coords="696,381,810,407"/>
<area shape="poly" title=" " alt="" coords="632,356,693,374,691,379,630,361"/>
<area shape="poly" title=" " alt="" coords="460,430,547,427,647,417,689,409,690,414,648,422,547,432,460,435"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="player_8c_a0be44cb011fa97a198c60458b0761809_icgraph.png" border="0" usemap="#aplayer_8c_a0be44cb011fa97a198c60458b0761809_icgraph" alt=""/></div>
<map name="aplayer_8c_a0be44cb011fa97a198c60458b0761809_icgraph" id="aplayer_8c_a0be44cb011fa97a198c60458b0761809_icgraph">
<area shape="rect" title="Increments the current frame index and writes the minified frame data to the serial output...." alt="" coords="381,5,512,31"/>
<area shape="rect" href="player_8c.html#a30eb7f640562f5e082f537431fabfae0" title="Main loop of the player that drives the playback of the sequence. This function will block until the ..." alt="" coords="244,5,333,31"/>
<area shape="poly" title=" " alt="" coords="365,21,334,21,334,16,365,16"/>
<area shape="rect" href="player_8c.html#aaf3b0aad85ffca607bbf0daa9d634dc1" title="Initializes and starts playback of the given playback configuration. Execution will block until the s..." alt="" coords="103,5,196,31"/>
<area shape="poly" title=" " alt="" coords="228,21,196,21,196,16,228,16"/>
<area shape="rect" href="main_8c.html#ad5a52bc0401ed1bc06c779de5371d560" title=" " alt="" coords="5,5,55,31"/>
<area shape="poly" title=" " alt="" coords="87,21,55,21,55,16,87,16"/>
</map>
</div>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="player_8c.html">player.c</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0 </li>
  </ul>
</div>
</body>
</html>
